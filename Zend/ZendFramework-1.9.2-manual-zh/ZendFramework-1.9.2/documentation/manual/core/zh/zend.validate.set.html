<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>59.2. 标准校验类</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="Zend Framework手册 中文版">
<link rel="up" href="zend.validate.html" title="第 59 章 Zend_Validate">
<link rel="prev" href="zend.validate.html" title="第 59 章 Zend_Validate">
<link rel="next" href="zend.validate.validator_chains.html" title="59.3. 校验器链">
<link rel="chapter" href="introduction.html" title="第 1 章 Zend Framework简介">
<link rel="chapter" href="zend.acl.html" title="第 2 章 Zend_Acl">
<link rel="chapter" href="zend.amf.html" title="第 3 章 Zend_Amf">
<link rel="chapter" href="zend.application.html" title="第 4 章 Zend_Application">
<link rel="chapter" href="zend.auth.html" title="第 5 章 Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="第 6 章 Zend_Cache">
<link rel="chapter" href="zend.captcha.html" title="第 7 章 Zend_Captcha">
<link rel="chapter" href="zend.codegenerator.html" title="第 8 章 Zend_CodeGenerator">
<link rel="chapter" href="zend.config.html" title="第 9 章 Zend_Config">
<link rel="chapter" href="zend.config.writer.html" title="第 10 章 Zend_Config_Writer">
<link rel="chapter" href="zend.console.getopt.html" title="第 11 章 Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="第 12 章 Zend_Controller">
<link rel="chapter" href="zend.currency.html" title="第 13 章 Zend_Currency">
<link rel="chapter" href="zend.date.html" title="第 14 章 Zend_Date">
<link rel="chapter" href="zend.db.html" title="第 15 章 Zend_Db">
<link rel="chapter" href="zend.debug.html" title="第 16 章 Zend_Debug">
<link rel="chapter" href="zend.dojo.html" title="第 17 章 Zend_Dojo">
<link rel="chapter" href="zend.dom.html" title="第 18 章 Zend_Dom">
<link rel="chapter" href="zend.exception.html" title="第 19 章 Zend_Exception">
<link rel="chapter" href="zend.feed.html" title="第 20 章 Zend_Feed">
<link rel="chapter" href="zend.file.html" title="第 21 章 Zend_File">
<link rel="chapter" href="zend.filter.html" title="第 22 章 Zend_Filter">
<link rel="chapter" href="zend.form.html" title="第 23 章 Zend_Form">
<link rel="chapter" href="zend.gdata.html" title="第 24 章 Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="第 25 章 Zend_Http">
<link rel="chapter" href="zend.infocard.html" title="第 26 章 Zend_InfoCard">
<link rel="chapter" href="zend.json.html" title="第 27 章 Zend_Json">
<link rel="chapter" href="zend.layout.html" title="第 28 章 Zend_Layout">
<link rel="chapter" href="zend.ldap.html" title="第 29 章 Zend_Ldap">
<link rel="chapter" href="zend.loader.html" title="第 30 章 Zend_Loader">
<link rel="chapter" href="zend.locale.html" title="第 31 章 Zend_Locale">
<link rel="chapter" href="zend.log.html" title="第 32 章 Zend_Log">
<link rel="chapter" href="zend.mail.html" title="第 33 章 Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="第 34 章 Zend_Measure">
<link rel="chapter" href="zend.memory.html" title="第 35 章 Zend_Memory">
<link rel="chapter" href="zend.mime.html" title="第 36 章 Zend_Mime">
<link rel="chapter" href="zend.navigation.html" title="第 37 章 Zend_Navigation">
<link rel="chapter" href="zend.openid.html" title="第 38 章 Zend_OpenId">
<link rel="chapter" href="zend.paginator.html" title="第 39 章 Zend_Paginator">
<link rel="chapter" href="zend.pdf.html" title="第 40 章 Zend_Pdf">
<link rel="chapter" href="zend.progressbar.html" title="第 41 章 Zend_ProgressBar">
<link rel="chapter" href="zend.queue.html" title="第 42 章 Zend_Queue">
<link rel="chapter" href="zend.reflection.html" title="第 43 章 Zend_Reflection">
<link rel="chapter" href="zend.registry.html" title="第 44 章 Zend_Registry">
<link rel="chapter" href="zend.rest.html" title="第 45 章 Zend_Rest">
<link rel="chapter" href="zend.search.lucene.html" title="第 46 章 Zend_Search_Lucene">
<link rel="chapter" href="zend.server.html" title="第 47 章 Zend_Server">
<link rel="chapter" href="zend.service.html" title="第 48 章 Zend_Service">
<link rel="chapter" href="zend.session.html" title="第 49 章 Zend_Session">
<link rel="chapter" href="zend.soap.html" title="第 50 章 Zend_Soap">
<link rel="chapter" href="zend.tag.html" title="第 51 章 Zend_Tag">
<link rel="chapter" href="zend.test.html" title="第 52 章 Zend_Test">
<link rel="chapter" href="zend.text.html" title="第 53 章 Zend_Text">
<link rel="chapter" href="zend.timesync.html" title="第 54 章 Zend_TimeSync">
<link rel="chapter" href="zend.tool.framework.html" title="第 55 章 Zend_Tool_Framework">
<link rel="chapter" href="zend.tool.project.html" title="第 56 章 Zend_Tool_Project">
<link rel="chapter" href="zend.translate.html" title="第 57 章 Zend_Translate">
<link rel="chapter" href="zend.uri.html" title="第 58 章 Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="第 59 章 Zend_Validate">
<link rel="chapter" href="zend.version.html" title="第 60 章 Zend_Version">
<link rel="chapter" href="zend.view.html" title="第 61 章 Zend_View">
<link rel="chapter" href="zend.wildfire.html" title="第 62 章 Zend_Wildfire">
<link rel="chapter" href="zend.xmlrpc.html" title="第 63 章 Zend_XmlRpc">
<link rel="chapter" href="zendx.console.process.unix.html" title="第 64 章 ZendX_Console_Process_Unix">
<link rel="chapter" href="zendx.jquery.html" title="第 65 章 ZendX_JQuery">
<link rel="appendix" href="requirements.html" title="附录 A. 系统需求">
<link rel="appendix" href="coding-standard.html" title="附录 B. Zend Framework 的 PHP 编码标准">
<link rel="appendix" href="doc-standard.html" title="附录 C. Zend Framework Documentation Standard">
<link rel="appendix" href="project-structure.html" title="附录 D. Recommended Project Structure for Zend Framework MVC Applications">
<link rel="appendix" href="performance.html" title="附录 E. Zend Framework Performance Guide">
<link rel="appendix" href="copyrights.html" title="附录 F. 版权信息">
<link rel="index" href="the.index.html" title="索引">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.alnum" title="59.2.1. Alnum">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.alpha" title="59.2.2. Alpha">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.barcode" title="59.2.3. Barcode">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.between" title="59.2.4. Between">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.ccnum" title="59.2.5. Ccnum">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.date" title="59.2.6. 日期">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.digits" title="59.2.7. 数字">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.email_addresses" title="59.2.8.  Email 地址">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.float" title="59.2.9. 浮点数">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.greater_than" title="59.2.10. GreaterThan">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.hex" title="59.2.11. 十六进制数">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.hostnames" title="59.2.12. 主机名">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.in_array" title="59.2.13. InArray">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.int" title="59.2.14. 整数">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.ip" title="59.2.15. Ip">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.less_than" title="59.2.16. LessThan">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.not_empty" title="59.2.17. NotEmpty">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.regex" title="59.2.18. Regex">
<link rel="subsection" href="zend.validate.set.html#zend.validate.set.string_length" title="59.2.19. StringLength">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">59.2. 标准校验类</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.validate.html">上一页</a> </td>
<th width="60%" align="center">第 59 章 Zend_Validate</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.validate.validator_chains.html">下一页</a>
</td>
</tr>
</table></div>
<div class="sect1" lang="zh-cn">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.validate.set"></a>59.2. 标准校验类</h2></div></div></div>
<p>
        Zend Framework 带有一组标准的校验类供你使用。
    </p>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.alnum"></a>59.2.1. Alnum</h3></div></div></div>
<p>
            当且仅当<code class="code">$value</code>只包含字母和数字字符，返回 <code class="code">true</code>。这个校验器包括一个考虑空白字符是否有效的选项。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.alpha"></a>59.2.2. Alpha</h3></div></div></div>
<p>
            当且仅当<code class="code">$value</code>只包含字母字符，返回 <code class="code">true</code>。这个校验器包括一个考虑空白字符是否有效的选项。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.barcode"></a>59.2.3. Barcode</h3></div></div></div>
<p>
            这个校验器是个带有条码类型的实例，条码类型是根据你希望用来校验条码值而定。它目前支持 "<code class="code">UPC-A</code>"  （通用产品码）和 "<code class="code">EAN-13</code>"  （欧洲商品码）条码类型，当且仅当输入成功通过条码校验算法的校验，<code class="code">isValid()</code>  返回 true。你应该从输入中删除除了数字0到9（0-9）以外的其它字符，然后传递给校验器。
         </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.between"></a>59.2.4. Between</h3></div></div></div>
<p>
            当且仅当<code class="code">$value</code>在最小值和最大值之间，返回<code class="code">true</code>。缺省地，比较包含边界值（<code class="code">$value</code>可以等于边界值），尽管为了做精确地比较这个可以被覆盖。所谓精确地比较，就是<code class="code">$value</code>必须大于最小值和小于最大值。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.ccnum"></a>59.2.5. Ccnum</h3></div></div></div>
<p>
            当且仅当<code class="code">$value</code>遵循Luhn(mod-10 checksum)算法，返回<code class="code">true</code> 。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.date"></a>59.2.6. 日期</h3></div></div></div>
<p>
            当<code class="code">$value</code>是一个格式为<code class="code">YYYY-MM-DD</code>的有效日期，返回<code class="code">true</code> 。如果<code class="code">locale</code> 选项被设置那么日期将根据locale来校验，如果<code class="code">format</code> 选项被设置成这个格式用来校验。关于选项参数的细节参见<a href="zend.date.overview.html#zend.date.others.comparison.table" title="表 14.3.  日期比较方法">Zend_Date::isDate()</a>。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.digits"></a>59.2.7. 数字</h3></div></div></div>
<p>
            当且仅当<code class="code">$value</code>只包含数字字符，返回 <code class="code">true</code>。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.email_addresses"></a>59.2.8.  Email 地址</h3></div></div></div>
<p>
        <code class="code">Zend_Validate_EmailAddress</code>允许你校验一个email地址。首先校验器把email地址分成local-part和@hostname并试图按照email地址和主机名的规范来匹配它。
    </p>
<p>
        <span class="strong"><strong>基本用法</strong></span>
    </p>
<p>
        一个基本用法的例子如下：

        </p>
<pre class="programlisting">
$validator = new Zend_Validate_EmailAddress();
if ($validator-&gt;isValid($email)) {
    // email appears to be valid
} else {
    // email is invalid; print the reasons
    foreach ($validator-&gt;getMessages() as $message) {
        echo "$message\n";
    }
}

        </pre>
<p>

        这个例子匹配email地址<code class="code">$email</code>并在匹配失败的时候用<code class="code">$validator-&gt;getMessages()</code>来获得有用的错误信息。

    </p>
<p>
        <span class="strong"><strong>复杂的local parts</strong></span>
    </p>
<p>
        <code class="code">Zend_Validate_EmailAddress</code>根据RFC2822来匹配任何有效的email地址。例如，有效的email地址包括<code class="code">bob@domain.com</code>, <code class="code">bob+jones@domain.us</code>, <code class="code">"bob@jones"@domain.com</code> 和 <code class="code">"bob jones"@domain.com</code>。一些过时的email格式目前不再校验（例如email地址中的回车符或"\"符）。
    </p>
<p>
        <span class="strong"><strong>校验不同类型的主机名</strong></span>
    </p>
<p>
        Email地址中的主机名部分依靠<a href="zend.validate.set.html#zend.validate.set.hostnames" title="59.2.12. 主机名"><code class="code">Zend_Validate_Hostname</code></a>来校验。尽管你希望IP地址和本地主机名也被接受，但缺省地只有像<code class="code">domain.com</code>格式的DNS主机名被接受。
        当然如果你想如愿，需要实例化<code class="code">Zend_Validate_EmailAddress</code>并传递一个参数来指明哪种主机名你想接受。更多的细节包含在<code class="code">Zend_Validate_Hostname</code>中。
        下面的例子显示如何同时接受DNS和本地主机名：
        </p>
<pre class="programlisting">
$validator = new Zend_Validate_EmailAddress(Zend_Validate_Hostname::ALLOW_DNS | Zend_Validate_Hostname::ALLOW_LOCAL);
if ($validator-&gt;isValid($email)) {
    // email appears to be valid
} else {
    // email is invalid; print the reasons
    foreach ($validator-&gt;getMessages() as $message) {
        echo "$message\n";
    }
}

        </pre>
<p>

    </p>
<p>
        <span class="strong"><strong>检查主机名是否确实接受email</strong></span>
    </p>
<p>
        email地址的格式正确并不意味着这个email地址确实存在。为解决这个问题，你可以用MX校验来检查一个MX(email)条目的主机名是否存在于DNS的纪录里。这将告诉你这个主机名接受email，但并不告诉你确切的email地址是有效的。
    </p>
<p>
        MX 检查不是缺省地激活的，并且目前只支持UNIX平台。为激活MX检查，你可以传递第二个参数给<code class="code">Zend_Validate_EmailAddress</code>构造器。
        </p>
<pre class="programlisting">
$validator = new Zend_Validate_EmailAddress(Zend_Validate_Hostname::ALLOW_DNS, true);

        </pre>
<p>

        另外你可以传递 <code class="code">true</code> 或 <code class="code">false</code> 给<code class="code">$validator-&gt;setValidateMx()</code> 来激活或禁止 MX 校验。
    </p>
<p>
        用激活这个设置的网络函数将用来为你所想校验的email地址的主机名中的MX记录的存在做检查。请注意这将可能把你的脚本变慢。
    </p>
<p>
        <span class="strong"><strong>校验国际域名</strong></span>
    </p>
<p>
        <code class="code">Zend_Validate_EmailAddress</code> 也将匹配存在于某些域名中的国际字符。这就是国际域名（IDN）支持。这个是缺省激活，你可以通过用存在于 <code class="code">Zend_Validate_EmailAddress</code> 中的内部的 <code class="code">Zend_Validate_Hostname</code> 对象来改变设置来禁止。

    </p>
<pre class="programlisting">
$validator-&gt;hostnameValidator-&gt;setValidateIdn(false);

    </pre>
<p>

        关于 <code class="code">setValidateIdn()</code> 更多的信息在<code class="code">Zend_Validate_Hostname</code> 文档中。
    </p>
<p>
        请注意你有你允许DNS 主机名被校验，国际域名（IDNs）才被校验。
    </p>
<p>
        <span class="strong"><strong>校验顶级域名</strong></span>
    </p>
<p>
       缺省地用已知的TLDs列表来检查主机名。你可以通过用存在于<code class="code">Zend_Validate_EmailAddress</code> 中的内部的 <code class="code">Zend_Validate_Hostname</code> 对象来改变设置来禁止。
    </p>
<pre class="programlisting">
$validator-&gt;hostnameValidator-&gt;setValidateTld(false);

    </pre>
<p>

        关于 <code class="code">setValidateTld()</code> 更多的信息在<code class="code">Zend_Validate_Hostname</code> 文档中。
    </p>
<p>
        请注意你有你允许DNS 主机名被校验，顶级域名（TLDs）才被校验。
    </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.float"></a>59.2.9. 浮点数</h3></div></div></div>
<p>
            当且仅当<code class="code">$value</code>是一个浮点数值，返回 <code class="code">true</code>。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.greater_than"></a>59.2.10. GreaterThan</h3></div></div></div>
<p>
            当且仅当<code class="code">$value</code>大于最小值，返回 <code class="code">true</code>。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.hex"></a>59.2.11. 十六进制数</h3></div></div></div>
<p>
            当且仅当<code class="code">$value</code>只包含十六进制的数字字符，返回 <code class="code">true</code>。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.hostnames"></a>59.2.12. 主机名</h3></div></div></div>
<p>
        Zend_Validate_Hostname允许你根据一组已知的规范来校验主机名。它检查三种不同的主机名：DNS主机名（例如domain.com），IP地址（例如1.2.3.4），和本地主机名（例如localhost）。缺省地，只有DNS主机名被匹配。
    </p>
<p>
        <span class="strong"><strong>基本用法</strong></span>
    </p>
<p>
        一个基本用法的例子如下：

        </p>
<pre class="programlisting">&lt;?php
require_once 'Zend/Validate/Hostname.php';
$validator = new Zend_Validate_Hostname();
if ($validator-&gt;isValid($hostname)) {
    // hostname appears to be valid
} else {
    // hostname is invalid; print the reasons
    foreach ($validator-&gt;getMessages() as $message) {
        echo "$message\n";
    }
}


        </pre>
<p>

        这个例子匹配主机名<code class="code">$hostname</code>并在匹配失败的时候用<code class="code">$validator-&gt;getMessages()</code>来获得有用的错误信息。

    </p>
<p>
        <span class="strong"><strong>校验不同类型的主机名</strong></span>
    </p>
<p>
        你可能发现你也想匹配IP地址，本地主机名，或者是所有允许类型的组合。这个可以在当你实例化它的时候通过传递参数给Zend_Validate_Hostname来实现。 参数应该是一个整型数，它来决定哪种主机名被允许。我们鼓励你使用常量。
    </p>
<p>
        Zend_Validate_Hostname 常量是： <code class="code">ALLOW_DNS</code> 允许DNS主机名，
        <code class="code">ALLOW_IP</code> 允许IP地址， <code class="code">ALLOW_LOCAL</code> 允许本地网络名，和<code class="code">ALLOW_ALL</code> 允许所有三种类型。 你可以用下面的例子仅仅检查IP地址：

        </p>
<pre class="programlisting">&lt;?php
require_once 'Zend/Validate/Hostname.php';
$validator = new Zend_Validate_Hostname(Zend_Validate_Hostname::ALLOW_IP);
if ($validator-&gt;isValid($hostname)) {
    // hostname appears to be valid
} else {
    // hostname is invalid; print the reasons
    foreach ($validator-&gt;getMessages() as $message) {
        echo "$message\n";
    }
}


        </pre>
<p>
    </p>
<p>
        你可以用这些类型的组合，也可以用<code class="code">ALLOW_ALL</code>来接受所有主机名类型。例如，你可以通过如下例子实例化Zend_Validate_Hostname对象来接受DNS和本地主机名:
        </p>
<pre class="programlisting">&lt;?php

$validator = new Zend_Validate_Hostname(Zend_Validate_Hostname::ALLOW_DNS | Zend_Validate_Hostname::ALLOW_LOCAL);}
        </pre>
<p>

    </p>
<p>
        <span class="strong"><strong>校验国际域名</strong></span>
    </p>
<p>
        一些国家代码顶级域名（ccTLDs），例如'de'（德国），在域名中支持国际字符。这些就是大家所知的国际域名（IDN）。这些域名可以用Zend_Validate_Hostname通过用于校验处理的扩展字符来匹配。
    </p>
<p>
        目前支持ccTLDs的有：

        </p>
<div class="itemizedlist"><ul type="disc">
<li><p>at (Austria)</p></li>
<li><p>ch (Switzerland)</p></li>
<li><p>li (Liechtenstein)</p></li>
<li><p>de (Germany)</p></li>
<li><p>fi (Finland)</p></li>
<li><p>hu (Hungary)</p></li>
<li><p>no (Norway)</p></li>
<li><p>se (Sweden)</p></li>
</ul></div>
<p>

    </p>
<p>
        匹配IDN域名就像使用标准主机名校验器一样简单，因为IDN匹配是缺省激活的。如果你想禁止IDN校验，可以通过传递参数给Zend_validate_Hostname构造器或通过<code class="code">$validator-&gt;setValidateIdn()</code>方法来实现。
    </p>
<p>
        你可以象下面通过传递第二个参数给Zend_Validate_Hostname构造器来禁止IDN校验。
        </p>
<pre class="programlisting">&lt;?php

$validator = new Zend_Validate_Hostname(Zend_Validate_Hostname::ALLOW_DNS, false);
        </pre>
<p>

        另外你可以通过传递 TRUE 或 FALSE 给 <code class="code">$validator-&gt;setValidateIdn()</code> 来激活或者禁止 IDN 校验。如果你试图匹配一个当前不被支持的IDN主机名，并且如果有国际字符在其中，校验很可能会失败。当指定附加字符的ccTLD文件在Zend/Validate/Hostname下不存在时，一个正常的主机名校验将被执行。（这就是在解释上句话中为什么校验会失败，Jason 注）
    </p>
<p>
        请注意只有当你允许DNS主机名被校验，IDNs才能被校验。
    </p>
<p>
        <span class="strong"><strong>校验顶级域名</strong></span>
    </p>
<p>
        缺省地主机名通过已知的TLDs列表来检查。如果不需要这个功能，它可以被禁止，就像禁止IDN支持一样。你可以通过传递第三个参数给Zend_Validate_Hostname构造器来禁止TLD校验。在下面的例子中，我们通过第二个参数来支持IDN校验。

        </p>
<pre class="programlisting">&lt;?php

$validator = new Zend_Validate_Hostname(Zend_Validate_Hostname::ALLOW_DNS, true, false);
        </pre>
<p>

        另外，你可以通过传递 TRUE 或 FALSE 给
        <code class="code">$validator-&gt;setValidateTld()</code> 来激活或禁止 TLD 校验。
    </p>
<p>
        请注意只有当你允许DNS主机名被校验，TLDs才能被校验。
    </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.in_array"></a>59.2.13. InArray</h3></div></div></div>
<p>
            当且仅当一个"needle"<code class="code">$value</code>包含在一个"haystack"数组，返回 <code class="code">true</code>。如果精确选项是<code class="code">true</code>，那么<code class="code">$value</code>的类型也被检查。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.int"></a>59.2.14. 整数</h3></div></div></div>
<p>
            当且仅当<code class="code">$value</code>是一个有效的整数，返回 <code class="code">true</code>。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.ip"></a>59.2.15. Ip</h3></div></div></div>
<p>
            当且仅当<code class="code">$value</code>是一个有效的IP地址，返回 <code class="code">true</code>。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.less_than"></a>59.2.16. LessThan</h3></div></div></div>
<p>
            当且仅当<code class="code">$value</code>小于最大值，返回 <code class="code">true</code>。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.not_empty"></a>59.2.17. NotEmpty</h3></div></div></div>
<p>
            当且仅当<code class="code">$value</code>非空，返回 <code class="code">true</code>。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.regex"></a>59.2.18. Regex</h3></div></div></div>
<p>
            当且仅当<code class="code">$value</code>匹配一个正则表达式，返回 <code class="code">true</code>。
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.string_length"></a>59.2.19. StringLength</h3></div></div></div>
<p>
            当且仅当字串长度值<code class="code">$value</code>至少是最小值并不大于最大值（当max选项不是<code class="code">null</code>），返回 <code class="code">true</code>。从1.5.0版开始，如果最小长度被设置为一个大于已设定的最大长度的值，<code class="code">setMin()</code>方法抛出一个异常，并且如果最大长度值被设置为小于一个已设定的最小长度的值，<code class="code">setMax()</code>方法抛出一个异常。从1.0.2版开始，基于<a href="http://www.php.net/manual/en/ref.iconv.php#iconv.configuration" target="_top"><code class="code">iconv.internal_encoding</code></a> 的当前值，这个类支持UTF-8和其它字符编码。
        </p>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.validate.html">上一页</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.validate.html">上一级</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.validate.validator_chains.html">下一页</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">第 59 章 Zend_Validate </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td>
<td width="40%" align="right" valign="top"> 59.3. 校验器链</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
