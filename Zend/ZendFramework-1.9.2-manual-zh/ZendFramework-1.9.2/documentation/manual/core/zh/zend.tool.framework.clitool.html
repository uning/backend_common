<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>55.2. Using the CLI Tool</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="Zend Framework手册 中文版">
<link rel="up" href="zend.tool.framework.html" title="第 55 章 Zend_Tool_Framework">
<link rel="prev" href="zend.tool.framework.html" title="第 55 章 Zend_Tool_Framework">
<link rel="next" href="zend.tool.framework.architecture.html" title="55.3. Architecture">
<link rel="chapter" href="introduction.html" title="第 1 章 Zend Framework简介">
<link rel="chapter" href="zend.acl.html" title="第 2 章 Zend_Acl">
<link rel="chapter" href="zend.amf.html" title="第 3 章 Zend_Amf">
<link rel="chapter" href="zend.application.html" title="第 4 章 Zend_Application">
<link rel="chapter" href="zend.auth.html" title="第 5 章 Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="第 6 章 Zend_Cache">
<link rel="chapter" href="zend.captcha.html" title="第 7 章 Zend_Captcha">
<link rel="chapter" href="zend.codegenerator.html" title="第 8 章 Zend_CodeGenerator">
<link rel="chapter" href="zend.config.html" title="第 9 章 Zend_Config">
<link rel="chapter" href="zend.config.writer.html" title="第 10 章 Zend_Config_Writer">
<link rel="chapter" href="zend.console.getopt.html" title="第 11 章 Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="第 12 章 Zend_Controller">
<link rel="chapter" href="zend.currency.html" title="第 13 章 Zend_Currency">
<link rel="chapter" href="zend.date.html" title="第 14 章 Zend_Date">
<link rel="chapter" href="zend.db.html" title="第 15 章 Zend_Db">
<link rel="chapter" href="zend.debug.html" title="第 16 章 Zend_Debug">
<link rel="chapter" href="zend.dojo.html" title="第 17 章 Zend_Dojo">
<link rel="chapter" href="zend.dom.html" title="第 18 章 Zend_Dom">
<link rel="chapter" href="zend.exception.html" title="第 19 章 Zend_Exception">
<link rel="chapter" href="zend.feed.html" title="第 20 章 Zend_Feed">
<link rel="chapter" href="zend.file.html" title="第 21 章 Zend_File">
<link rel="chapter" href="zend.filter.html" title="第 22 章 Zend_Filter">
<link rel="chapter" href="zend.form.html" title="第 23 章 Zend_Form">
<link rel="chapter" href="zend.gdata.html" title="第 24 章 Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="第 25 章 Zend_Http">
<link rel="chapter" href="zend.infocard.html" title="第 26 章 Zend_InfoCard">
<link rel="chapter" href="zend.json.html" title="第 27 章 Zend_Json">
<link rel="chapter" href="zend.layout.html" title="第 28 章 Zend_Layout">
<link rel="chapter" href="zend.ldap.html" title="第 29 章 Zend_Ldap">
<link rel="chapter" href="zend.loader.html" title="第 30 章 Zend_Loader">
<link rel="chapter" href="zend.locale.html" title="第 31 章 Zend_Locale">
<link rel="chapter" href="zend.log.html" title="第 32 章 Zend_Log">
<link rel="chapter" href="zend.mail.html" title="第 33 章 Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="第 34 章 Zend_Measure">
<link rel="chapter" href="zend.memory.html" title="第 35 章 Zend_Memory">
<link rel="chapter" href="zend.mime.html" title="第 36 章 Zend_Mime">
<link rel="chapter" href="zend.navigation.html" title="第 37 章 Zend_Navigation">
<link rel="chapter" href="zend.openid.html" title="第 38 章 Zend_OpenId">
<link rel="chapter" href="zend.paginator.html" title="第 39 章 Zend_Paginator">
<link rel="chapter" href="zend.pdf.html" title="第 40 章 Zend_Pdf">
<link rel="chapter" href="zend.progressbar.html" title="第 41 章 Zend_ProgressBar">
<link rel="chapter" href="zend.queue.html" title="第 42 章 Zend_Queue">
<link rel="chapter" href="zend.reflection.html" title="第 43 章 Zend_Reflection">
<link rel="chapter" href="zend.registry.html" title="第 44 章 Zend_Registry">
<link rel="chapter" href="zend.rest.html" title="第 45 章 Zend_Rest">
<link rel="chapter" href="zend.search.lucene.html" title="第 46 章 Zend_Search_Lucene">
<link rel="chapter" href="zend.server.html" title="第 47 章 Zend_Server">
<link rel="chapter" href="zend.service.html" title="第 48 章 Zend_Service">
<link rel="chapter" href="zend.session.html" title="第 49 章 Zend_Session">
<link rel="chapter" href="zend.soap.html" title="第 50 章 Zend_Soap">
<link rel="chapter" href="zend.tag.html" title="第 51 章 Zend_Tag">
<link rel="chapter" href="zend.test.html" title="第 52 章 Zend_Test">
<link rel="chapter" href="zend.text.html" title="第 53 章 Zend_Text">
<link rel="chapter" href="zend.timesync.html" title="第 54 章 Zend_TimeSync">
<link rel="chapter" href="zend.tool.framework.html" title="第 55 章 Zend_Tool_Framework">
<link rel="chapter" href="zend.tool.project.html" title="第 56 章 Zend_Tool_Project">
<link rel="chapter" href="zend.translate.html" title="第 57 章 Zend_Translate">
<link rel="chapter" href="zend.uri.html" title="第 58 章 Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="第 59 章 Zend_Validate">
<link rel="chapter" href="zend.version.html" title="第 60 章 Zend_Version">
<link rel="chapter" href="zend.view.html" title="第 61 章 Zend_View">
<link rel="chapter" href="zend.wildfire.html" title="第 62 章 Zend_Wildfire">
<link rel="chapter" href="zend.xmlrpc.html" title="第 63 章 Zend_XmlRpc">
<link rel="chapter" href="zendx.console.process.unix.html" title="第 64 章 ZendX_Console_Process_Unix">
<link rel="chapter" href="zendx.jquery.html" title="第 65 章 ZendX_JQuery">
<link rel="appendix" href="requirements.html" title="附录 A. 系统需求">
<link rel="appendix" href="coding-standard.html" title="附录 B. Zend Framework 的 PHP 编码标准">
<link rel="appendix" href="doc-standard.html" title="附录 C. Zend Framework Documentation Standard">
<link rel="appendix" href="project-structure.html" title="附录 D. Recommended Project Structure for Zend Framework MVC Applications">
<link rel="appendix" href="performance.html" title="附录 E. Zend Framework Performance Guide">
<link rel="appendix" href="copyrights.html" title="附录 F. 版权信息">
<link rel="index" href="the.index.html" title="索引">
<link rel="subsection" href="zend.tool.framework.clitool.html#zend.tool.framework.clitool.setup-general" title="55.2.1. Setting up the CLI tool">
<link rel="subsection" href="zend.tool.framework.clitool.html#zend.tool.framework.clitool.setup-starnix" title="55.2.2. Setting up the CLI tool on Unix-like Systems">
<link rel="subsection" href="zend.tool.framework.clitool.html#zend.tool.framework.clitool.setup-windows" title="55.2.3. Setting up the CLI tool on Windows">
<link rel="subsection" href="zend.tool.framework.clitool.html#zend.tool.framework.clitool.setup-othernotes" title="55.2.4. Other Setup Considerations">
<link rel="subsection" href="zend.tool.framework.clitool.html#zend.tool.framework.clitool.continuing" title="55.2.5. Where To Go Next?">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">55.2. Using the CLI Tool</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.tool.framework.html">上一页</a> </td>
<th width="60%" align="center">第 55 章 Zend_Tool_Framework</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.tool.framework.architecture.html">下一页</a>
</td>
</tr>
</table></div>
<div class="sect1" lang="zh-cn">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.tool.framework.clitool"></a>55.2. Using the CLI Tool</h2></div></div></div>
<p>
        The <acronym class="acronym">CLI</acronym>, or command line tool (internally known as the console tool),
        is currently the primary interface for dispatching <code class="classname">Zend_Tool</code>
        requests. With the <acronym class="acronym">CLI</acronym> tool, developers can issue tooling requests
        inside the "command line windows", also commonly known as a "terminal"
        window. This environment is predominant in the *nix environment, but
        also has a common implementation in windows with the
        <code class="filename">cmd.exe</code>, console2 and also with the Cygwin project.
    </p>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.tool.framework.clitool.setup-general"></a>55.2.1. Setting up the CLI tool</h3></div></div></div>
<p>
            To issue tooling requests via the command line client, you first
            need to set up the client so that your system can handle the "zf"
            command. The command line client, for all intents and purposes, is
            the <code class="filename">.sh</code> or <code class="filename">.bat</code> file that is provided with
            your Zend Framework distribution. In trunk, it can be found here:
            <a href="http://framework.zend.com/svn/framework/standard/trunk/bin/" target="_top">http://framework.zend.com/svn/framework/standard/trunk/bin/</a>.
        </p>
<p>
            As you can see, there are 3 files in the <code class="filename">/bin/</code>
            directory: a <code class="filename">zf.php</code>, <code class="filename">zf.sh</code>, and
            <code class="filename">zf.bat</code>. The <code class="filename">zf.sh</code> and the
            <code class="filename">zf.bat</code> are the operating system specific client
            wrappers: <code class="filename">zf.sh</code> for the *nix environment, and
            <code class="filename">zf.bat</code> for the Win32 environment. These client wrappers are
            responsible for finding the proper <code class="filename">php.exe</code>, finding the
            <code class="filename">zf.php</code>, and passing on the client request. The
            <code class="filename">zf.php</code> is the responsible for handling understanding
            your environment, constructing the proper include_path, and passing
            what is provided on the command line to the proper library component
            for dispatching.
        </p>
<p>
            Ultimately, you want to ensure two things to make everything work
            regardless of the operating system you are on:
        </p>
<div class="orderedlist"><ol type="1">
<li><p>
                    <code class="filename">zf.sh/zf.bat</code> is reachable from your system
                    path. This is the ability to call <span><strong class="command">zf</strong></span> from
                    anywhere on your command line, regardless of what your
                    current working directory is.
                </p></li>
<li><p>
                    <code class="filename">ZendFramework/library</code> is in your
                    <span class="property">include_path</span>.
                </p></li>
</ol></div>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注意]" src="images/note.png"></td>
<th align="left">注意</th>
</tr>
<tr><td align="left" valign="top"><p>
                Note: while the above are the most ideal
                requirements, you can simply download Zend Framework and expect it
                to work as <code class="filename">./path/to/zf.php</code> some command.
            </p></td></tr>
</table></div>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.tool.framework.clitool.setup-starnix"></a>55.2.2. Setting up the CLI tool on Unix-like Systems</h3></div></div></div>
<p>
            The most common setup in the *nix environment, is to copy the
            <code class="filename">zf.sh</code> and <code class="filename">zf.php</code> into the same directory
            as your <acronym class="acronym">PHP</acronym> binary. This can generally be found in one of the
            following places:
        </p>
<pre class="programlisting">
/usr/bin
/usr/local/bin
/usr/local/ZendServer/bin/
/Applications/ZendServer/bin/
</pre>
<p>
            To find out the location of your <acronym class="acronym">PHP</acronym> binary, you can execute 'which
            php' on the command line. This will return the location of the <acronym class="acronym">PHP</acronym>
            binary you will be using to run <acronym class="acronym">PHP</acronym> scripts in this environment.
        </p>
<p>
            The next order of business is to ensure that Zend Framework
            library is set up correctly inside of the system <acronym class="acronym">PHP</acronym>
            <span class="property">include_path</span>. To find out where your
            <span class="property">include_path</span> is located, you can execute <span><strong class="command">php -i</strong></span>
            and look for the <span class="property">include_path</span> variable, or more succinctly,
            execute <span><strong class="command">php -i | grep include_path</strong></span>. Once you have found where
            your <span class="property">include_path</span> is located (this will generally be
            something like <code class="filename">/usr/lib/php</code>, <code class="filename">/usr/share/php</code>,
            <code class="filename">/usr/local/lib/php</code>, or similar), ensure that the contents of the
            <code class="filename">/library/</code> directory are put
            inside your <span class="property">include_path</span> specified directory.
        </p>
<p>
            Once you have done those two things, you should be able to issue a
            command and get back the proper response like this:
        </p>
<p>
            <img src="figures/zend.tool.framework.cliversionunix.png" align="middle">
        </p>
<p>
            If you do not see this type of output, go back and check your setup
            to ensure you have all of the necessary pieces in the proper place.
        </p>
<p>
            There are a couple of alternative setups you might want to employ
            depending on your servers configuration, your level of access, or
            for other reasons.
        </p>
<p>
            <span class="emphasis"><em>Alternative Setup</em></span> involves keeping the Zend
            Framework download together as is, and creating a link from a <code class="constant">PATH</code>
            location to the <code class="filename">zf.sh</code>. What this means is you can
            place the contents of the ZendFramework download into a location
            such as <code class="filename">/usr/local/share/ZendFramework</code>, or more locally
            like <code class="filename">/home/username/lib/ZendFramework</code>, and creating a
            symbolic link to the <code class="filename">zf.sh</code>.
        </p>
<p>
            Assuming you want to put the link inside <code class="filename">/usr/local/bin</code>
            (this could also work for placing the link inside
            <code class="filename">/home/username/bin/</code> for example) you would issue a
            command similar to this: </p>
<pre class="programlisting">
ln -s /usr/local/share/ZendFramework/bin/zf.sh /usr/local/bin/zf

# OR (for example)
ln -s /home/username/lib/ZendFramework/bin/zf.sh /home/username/bin/zf
</pre>
<p>
            This will create a link which you should be able to access globally
            on the command line.
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.tool.framework.clitool.setup-windows"></a>55.2.3. Setting up the CLI tool on Windows</h3></div></div></div>
<p>
            The most common setup in the Windows Win32 environment, is to copy
            the <code class="filename">zf.bat</code> and <code class="filename">zf.php</code> into the same
            directory as your <acronym class="acronym">PHP</acronym> binary. This can generally be found in one of
            the following places:
        </p>
<pre class="programlisting">
C:\PHP
C:\Program Files\ZendServer\bin\
C:\WAMP\PHP\bin
</pre>
<p>
            You should be able to run <code class="filename">php.exe</code> on the command line.
            If you are not able to, first check the documentation that came with
            your <acronym class="acronym">PHP</acronym> distribution, or ensure that the path to
            <code class="filename">php.exe</code> is in your
            Windows <code class="constant">PATH</code> environment variable.
        </p>
<p>
            The next order of business is to ensure that Zend Framework
            library is set up correctly inside of the system <acronym class="acronym">PHP</acronym>
            <span class="property">include_path</span>. To find out where your
            <span class="property">include_path</span> is located, you can type <span><strong class="command">php -i</strong></span> and
            look for the <span class="property">include_path</span> variable, or more succinctly
            execute <span><strong class="command">php -i | grep include_path</strong></span> if you have Cygwin setup with
            grep available. Once you have found where your
            <span class="property">include_path</span> is located (this will generally be
            something like <code class="filename">C:\PHP\pear</code>, <code class="filename">C:\PHP\share</code>,
            <code class="filename">C:\Program%20Files\ZendServer\share</code> or similar), ensure
            that the contents of the library/ directory are put inside your
            <span class="property">include_path</span> specified directory.
        </p>
<p>
            Once you have done those two things, you should be able to issue a
            command and get back the proper response like this:
        </p>
<p>
            <img src="figures/zend.tool.framework.cliversionwin32.png" align="middle">
        </p>
<p>
            If you do not see this type of output, go back and check your setup
            to ensure you have all of the necessary pieces in the proper place.
        </p>
<p>
            There are a couple of alternative setups you might want to employ
            depending on your server's configuration, your level of access, or
            for other reasons.
        </p>
<p>
            <span class="emphasis"><em>Alternative Setup</em></span> involves keeping the Zend
            Framework download together as is, and altering both your system
            <code class="constant">PATH</code> as well as the <code class="filename">php.ini</code> file.
            In your user's environment, make sure to add
            <code class="filename">C:\Path\To\ZendFramework\bin</code>, so that your
            <code class="filename">zf.bat</code> file is executable. Also, alter the
            <code class="filename">php.ini</code> file to ensure that
            <code class="filename">C:\Path\To\ZendFramework\library</code> is in your
            <span class="property">include_path</span>.
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.tool.framework.clitool.setup-othernotes"></a>55.2.4. Other Setup Considerations</h3></div></div></div>
<p>
            If for some reason you do not want Zend Framework library inside
            your <span class="property">include_path</span>, there is another option. There are
            two special environment variables that <code class="filename">zf.php</code> will
            utilize to determine the location of your Zend Framework
            installation.
        </p>
<p>
            The first is <code class="constant">ZEND_TOOL_INCLUDE_PATH_PREPEND</code>, which will
            prepend the value of this environment variable to the system
            (<code class="filename">php.ini</code>) <span class="property">include_path</span> before loading the
            client.
        </p>
<p>
            Alternatively, you might want to use
            <code class="constant">ZEND_TOOL_INCLUDE_PATH</code> to completely
            <span class="emphasis"><em>replace</em></span> the system <span class="property">include_path</span>
            for one that makes sense specifically for the <span><strong class="command">zf</strong></span>
            command line tool.
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.tool.framework.clitool.continuing"></a>55.2.5. Where To Go Next?</h3></div></div></div>
<p>
            At this point, you should be set up to start initiating some more
            "interesting" commands. To get going, you can issue the
            <span><strong class="command">zf --help</strong></span> command to see what is available to you.
        </p>
<p>
            <img src="figures/zend.tool.framework.clihelp.png" align="middle">
        </p>
<p>
            Continue on to the <code class="classname">Zend_Tool_Project</code> "Create Project"
            section to understand how to use the <span><strong class="command">zf</strong></span> script for
            project creation.
        </p>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.tool.framework.html">上一页</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.tool.framework.html">上一级</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.tool.framework.architecture.html">下一页</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">第 55 章 Zend_Tool_Framework </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td>
<td width="40%" align="right" valign="top"> 55.3. Architecture</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
