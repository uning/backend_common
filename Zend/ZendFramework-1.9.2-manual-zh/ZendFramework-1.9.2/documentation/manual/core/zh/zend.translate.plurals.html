<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>57.6. Plural notations for Translation</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="Zend Framework手册 中文版">
<link rel="up" href="zend.translate.html" title="第 57 章 Zend_Translate">
<link rel="prev" href="zend.translate.additional.html" title="57.5. Additional features for translation">
<link rel="next" href="zend.translate.migration.html" title="57.7. Migrating from previous versions">
<link rel="chapter" href="introduction.html" title="第 1 章 Zend Framework简介">
<link rel="chapter" href="zend.acl.html" title="第 2 章 Zend_Acl">
<link rel="chapter" href="zend.amf.html" title="第 3 章 Zend_Amf">
<link rel="chapter" href="zend.application.html" title="第 4 章 Zend_Application">
<link rel="chapter" href="zend.auth.html" title="第 5 章 Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="第 6 章 Zend_Cache">
<link rel="chapter" href="zend.captcha.html" title="第 7 章 Zend_Captcha">
<link rel="chapter" href="zend.codegenerator.html" title="第 8 章 Zend_CodeGenerator">
<link rel="chapter" href="zend.config.html" title="第 9 章 Zend_Config">
<link rel="chapter" href="zend.config.writer.html" title="第 10 章 Zend_Config_Writer">
<link rel="chapter" href="zend.console.getopt.html" title="第 11 章 Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="第 12 章 Zend_Controller">
<link rel="chapter" href="zend.currency.html" title="第 13 章 Zend_Currency">
<link rel="chapter" href="zend.date.html" title="第 14 章 Zend_Date">
<link rel="chapter" href="zend.db.html" title="第 15 章 Zend_Db">
<link rel="chapter" href="zend.debug.html" title="第 16 章 Zend_Debug">
<link rel="chapter" href="zend.dojo.html" title="第 17 章 Zend_Dojo">
<link rel="chapter" href="zend.dom.html" title="第 18 章 Zend_Dom">
<link rel="chapter" href="zend.exception.html" title="第 19 章 Zend_Exception">
<link rel="chapter" href="zend.feed.html" title="第 20 章 Zend_Feed">
<link rel="chapter" href="zend.file.html" title="第 21 章 Zend_File">
<link rel="chapter" href="zend.filter.html" title="第 22 章 Zend_Filter">
<link rel="chapter" href="zend.form.html" title="第 23 章 Zend_Form">
<link rel="chapter" href="zend.gdata.html" title="第 24 章 Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="第 25 章 Zend_Http">
<link rel="chapter" href="zend.infocard.html" title="第 26 章 Zend_InfoCard">
<link rel="chapter" href="zend.json.html" title="第 27 章 Zend_Json">
<link rel="chapter" href="zend.layout.html" title="第 28 章 Zend_Layout">
<link rel="chapter" href="zend.ldap.html" title="第 29 章 Zend_Ldap">
<link rel="chapter" href="zend.loader.html" title="第 30 章 Zend_Loader">
<link rel="chapter" href="zend.locale.html" title="第 31 章 Zend_Locale">
<link rel="chapter" href="zend.log.html" title="第 32 章 Zend_Log">
<link rel="chapter" href="zend.mail.html" title="第 33 章 Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="第 34 章 Zend_Measure">
<link rel="chapter" href="zend.memory.html" title="第 35 章 Zend_Memory">
<link rel="chapter" href="zend.mime.html" title="第 36 章 Zend_Mime">
<link rel="chapter" href="zend.navigation.html" title="第 37 章 Zend_Navigation">
<link rel="chapter" href="zend.openid.html" title="第 38 章 Zend_OpenId">
<link rel="chapter" href="zend.paginator.html" title="第 39 章 Zend_Paginator">
<link rel="chapter" href="zend.pdf.html" title="第 40 章 Zend_Pdf">
<link rel="chapter" href="zend.progressbar.html" title="第 41 章 Zend_ProgressBar">
<link rel="chapter" href="zend.queue.html" title="第 42 章 Zend_Queue">
<link rel="chapter" href="zend.reflection.html" title="第 43 章 Zend_Reflection">
<link rel="chapter" href="zend.registry.html" title="第 44 章 Zend_Registry">
<link rel="chapter" href="zend.rest.html" title="第 45 章 Zend_Rest">
<link rel="chapter" href="zend.search.lucene.html" title="第 46 章 Zend_Search_Lucene">
<link rel="chapter" href="zend.server.html" title="第 47 章 Zend_Server">
<link rel="chapter" href="zend.service.html" title="第 48 章 Zend_Service">
<link rel="chapter" href="zend.session.html" title="第 49 章 Zend_Session">
<link rel="chapter" href="zend.soap.html" title="第 50 章 Zend_Soap">
<link rel="chapter" href="zend.tag.html" title="第 51 章 Zend_Tag">
<link rel="chapter" href="zend.test.html" title="第 52 章 Zend_Test">
<link rel="chapter" href="zend.text.html" title="第 53 章 Zend_Text">
<link rel="chapter" href="zend.timesync.html" title="第 54 章 Zend_TimeSync">
<link rel="chapter" href="zend.tool.framework.html" title="第 55 章 Zend_Tool_Framework">
<link rel="chapter" href="zend.tool.project.html" title="第 56 章 Zend_Tool_Project">
<link rel="chapter" href="zend.translate.html" title="第 57 章 Zend_Translate">
<link rel="chapter" href="zend.uri.html" title="第 58 章 Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="第 59 章 Zend_Validate">
<link rel="chapter" href="zend.version.html" title="第 60 章 Zend_Version">
<link rel="chapter" href="zend.view.html" title="第 61 章 Zend_View">
<link rel="chapter" href="zend.wildfire.html" title="第 62 章 Zend_Wildfire">
<link rel="chapter" href="zend.xmlrpc.html" title="第 63 章 Zend_XmlRpc">
<link rel="chapter" href="zendx.console.process.unix.html" title="第 64 章 ZendX_Console_Process_Unix">
<link rel="chapter" href="zendx.jquery.html" title="第 65 章 ZendX_JQuery">
<link rel="appendix" href="requirements.html" title="附录 A. 系统需求">
<link rel="appendix" href="coding-standard.html" title="附录 B. Zend Framework 的 PHP 编码标准">
<link rel="appendix" href="doc-standard.html" title="附录 C. Zend Framework Documentation Standard">
<link rel="appendix" href="project-structure.html" title="附录 D. Recommended Project Structure for Zend Framework MVC Applications">
<link rel="appendix" href="performance.html" title="附录 E. Zend Framework Performance Guide">
<link rel="appendix" href="copyrights.html" title="附录 F. 版权信息">
<link rel="index" href="the.index.html" title="索引">
<link rel="subsection" href="zend.translate.plurals.html#zend.translate.plurals.traditional" title="57.6.1. Traditional plural translations">
<link rel="subsection" href="zend.translate.plurals.html#zend.translate.plurals.modern" title="57.6.2. Modern plural translations">
<link rel="subsection" href="zend.translate.plurals.html#zend.translate.plurals.source" title="57.6.3. Plural source files">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">57.6. Plural notations for Translation</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.translate.additional.html">上一页</a> </td>
<th width="60%" align="center">第 57 章 Zend_Translate</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.translate.migration.html">下一页</a>
</td>
</tr>
</table></div>
<div class="sect1" lang="zh-cn">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.translate.plurals"></a>57.6. Plural notations for Translation</h2></div></div></div>
<p>
        As of Zend Framework 1.9, <code class="classname">Zend_Translate</code> is able to provide plural
        support. Professional translation will always have the need to use plurals as they are
        native in almost all languages.
    </p>
<p>
        So what are plurals? Generally spoken plurals are words which take into account numeric
        meanings. But as you may imaging each language has it's own definition of plurals.
        English, for example, supports one plural. We have a singular definition, for example
        "car", which means implicit one car, and we have the plural definition, "cars" which could
        mean more than one car but also zero cars. Other languages like russian or polish have
        more plurals and also the rules for plurals are different.
    </p>
<p>
        When you want to use plurals with <code class="classname">Zend_Translate</code> you must not need
        to know how the plurals are defined, only the translator must know as he does the
        translation. The only information you need to have is the language.
    </p>
<p>
        There are two way for using plurals... the traditional one, which means that you use a own
        method, and a modern one, which allows you to do plural translations with the same method
        as normal translations.
    </p>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.translate.plurals.traditional"></a>57.6.1. Traditional plural translations</h3></div></div></div>
<p>
            People who worked with gettext in past will be more common with traditional plural
            translations. There is a own <code class="methodname">plural()</code> method which can be
            used for plural translations.
        </p>
<div class="example">
<a name="zend.translate.plurals.traditional.example1"></a><p class="title"><b>例 57.17. Example of traditional plural translations</b></p>
<div class="example-contents">
<p>
                The <code class="methodname">plural()</code> method accepts 4 parameters. The first
                parameter is the singular messageId, the second is the plural messageId and the
                third is the number or amount.
            </p>
<p>
                The number will be used to detect the plural which has to be returned. A optional
                forth parameter can be used to give a locale which will be used to return the
                translation.
            </p>
<pre class="programlisting">
$translate = new Zend_Translate('gettext', '/path/to/german.mo', 'de');
$translate-&gt;plural('Car', 'Cars', $number);
</pre>
</div>
</div>
<br class="example-break">
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.translate.plurals.modern"></a>57.6.2. Modern plural translations</h3></div></div></div>
<p>
            As traditional plural translations are restricted to source code using english plurals
            we added a new way for plural translations. It allows to use the same
            <code class="methodname">translate()</code> for standard and for plural translations.
        </p>
<p>
            To use plural translations with <code class="methodname">translate()</code> you need to give
            an array as messageId instead of an string. This array must have the original plural
            messageId's, then the amount and at last an optional locale when your given messageId's
            are not in english notation.
        </p>
<div class="example">
<a name="zend.translate.plurals.modern.example1"></a><p class="title"><b>例 57.18. Example of modern plural translations</b></p>
<div class="example-contents">
<p>
                When we want to translate the same plural definitions like in the previous our
                example would have to be defined like below.
            </p>
<pre class="programlisting">
$translate = new Zend_Translate('gettext', '/path/to/german.mo', 'de');
$translate-&gt;translate(array('Car', 'Cars', $number));
</pre>
</div>
</div>
<br class="example-break"><p>
            Using modern plural translations it is also possible to use any language as source
            for messageId's.
        </p>
<div class="example">
<a name="zend.translate.plurals.modern.example2"></a><p class="title"><b>例 57.19. Example of modern plural translations using a different source language</b></p>
<div class="example-contents">
<p>
                Let's expect we want to use russian and let's also expect that the given
                messageId's are russian and not english.
            </p>
<pre class="programlisting">
$translate = new Zend_Translate('gettext', '/path/to/german.mo', 'de');
$translate-&gt;translate(array('Car',
                            'Cars first plural',
                            'Cars second plural',
                            $number,
                            'ru'));
</pre>
</div>
</div>
<br class="example-break"><p>
            As you can see you can give more than just the one english plural. But you must give
            the source language in this case so <code class="classname">Zend_Translate</code> knows which
            plural rules it has to apply.
        </p>
<p>
            When you omit the plural language then english will be used per default and any
            additional plural definition will be ignored.
        </p>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.translate.plurals.source"></a>57.6.3. Plural source files</h3></div></div></div>
<p>
            Not all source formats support plural forms. Look into this list for details:
        </p>
<div class="table">
<a name="zend.translate.plurals.source.supportedadapters"></a><p class="title"><b>表 57.3. Plural support</b></p>
<div class="table-contents"><table summary="Plural support" border="1">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Adapter</th>
<th>Plurals supported</th>
<td class="auto-generated"> </td>
<td class="auto-generated"> </td>
</tr></thead>
<tbody>
<tr>
<td>Array</td>
<td><span class="emphasis"><em>yes</em></span></td>
<td class="auto-generated"> </td>
<td class="auto-generated"> </td>
</tr>
<tr>
<td>Csv</td>
<td><span class="emphasis"><em>yes</em></span></td>
<td class="auto-generated"> </td>
<td class="auto-generated"> </td>
</tr>
<tr>
<td>Gettext</td>
<td><span class="emphasis"><em>yes</em></span></td>
<td class="auto-generated"> </td>
<td class="auto-generated"> </td>
</tr>
<tr>
<td>Ini</td>
<td><span class="emphasis"><em>no</em></span></td>
<td class="auto-generated"> </td>
<td class="auto-generated"> </td>
</tr>
<tr>
<td>Qt</td>
<td><span class="emphasis"><em>no</em></span></td>
<td class="auto-generated"> </td>
<td class="auto-generated"> </td>
</tr>
<tr>
<td>Tbx</td>
<td><span class="emphasis"><em>no</em></span></td>
<td class="auto-generated"> </td>
<td class="auto-generated"> </td>
</tr>
<tr>
<td>Tmx</td>
<td><span class="emphasis"><em>no</em></span></td>
<td class="auto-generated"> </td>
<td class="auto-generated"> </td>
</tr>
<tr>
<td>Xliff</td>
<td><span class="emphasis"><em>no</em></span></td>
<td class="auto-generated"> </td>
<td class="auto-generated"> </td>
</tr>
<tr>
<td>XmlTm</td>
<td><span class="emphasis"><em>no</em></span></td>
<td class="auto-generated"> </td>
<td class="auto-generated"> </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>
            Below you can find examples of plural defined source files.
        </p>
<div class="sect3" lang="zh-cn">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.translate.plurals.source.array"></a>57.6.3.1. Array source with plural definitions</h4></div></div></div>
<p>
                An array with plural definitions has to look like the following example.
            </p>
<pre class="programlisting">
array(
    'plural_0' =&gt; array(
        'plural_0 (ru)',
        'plural_1 (ru)',
        'plural_2 (ru)',
        'plural_3 (ru)'
    ),
    'plural_1' =&gt; ''
);
</pre>
<p>
                In the above example <code class="code">plural_0</code> and <code class="code">plural_1</code> are the
                plural definitions from the source code. And the array at <code class="code">plural_0</code>
                has all translated plural forms available. Take a look at the following example
                with real content and translation from english source to german.
            </p>
<pre class="programlisting">
array(
    'Car' =&gt; array(
        'Auto',
        'Autos'
    ),
    'Cars' =&gt; ''
);
</pre>
<p>
                When your translated language supports more plural forms then simply add them to
                the array below the first plural form. When your source language suppors more
                plural forms, than simply add a new empty translation.
            </p>
</div>
<div class="sect3" lang="zh-cn">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.translate.plurals.source.csv"></a>57.6.3.2. Csv source with plural definitions</h4></div></div></div>
<p>
                A csv file with plural definitions has to look like the following example.
            </p>
<pre class="programlisting">
"plural_0";"plural_0 (ru)";"plural_1 (ru)";"plural_2 (ru)";"plural_3 (ru)"
"plural_1";
</pre>
<p>
                All translated plural forms have to be added after the first plural of the source
                language. And all further plural forms of the source language have to be added
                below but without translation. Note that you must add a delimiter to empty
                source plurals.
            </p>
</div>
<div class="sect3" lang="zh-cn">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.translate.plurals.source.gettext"></a>57.6.3.3. Gettext source with plural definitions</h4></div></div></div>
<p>
                Gettext sources support plural forms out of the box. There is no need for adoption
                as the <code class="filename">*.mo</code> file will contain all necessary data.
            </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注意]" src="images/note.png"></td>
<th align="left">注意</th>
</tr>
<tr><td align="left" valign="top"><p>
                    Note that gettext does not support the usage of source languages which are not
                    using english plural forms. When you plan to use a source language which
                    supports other plural forms like russian for example, then you can not use
                    gettext sources.
                </p></td></tr>
</table></div>
</div>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.translate.additional.html">上一页</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.translate.html">上一级</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.translate.migration.html">下一页</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">57.5. Additional features for translation </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td>
<td width="40%" align="right" valign="top"> 57.7. Migrating from previous versions</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
