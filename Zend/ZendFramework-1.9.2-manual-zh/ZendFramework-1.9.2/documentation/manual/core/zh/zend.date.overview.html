<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>14.4. Zend_Date API 概述</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="Zend Framework手册 中文版">
<link rel="up" href="zend.date.html" title="第 14 章 Zend_Date">
<link rel="prev" href="zend.date.basic.html" title="14.3. 基本方法">
<link rel="next" href="zend.date.creation.html" title="14.5. 生成日期">
<link rel="chapter" href="introduction.html" title="第 1 章 Zend Framework简介">
<link rel="chapter" href="zend.acl.html" title="第 2 章 Zend_Acl">
<link rel="chapter" href="zend.amf.html" title="第 3 章 Zend_Amf">
<link rel="chapter" href="zend.application.html" title="第 4 章 Zend_Application">
<link rel="chapter" href="zend.auth.html" title="第 5 章 Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="第 6 章 Zend_Cache">
<link rel="chapter" href="zend.captcha.html" title="第 7 章 Zend_Captcha">
<link rel="chapter" href="zend.codegenerator.html" title="第 8 章 Zend_CodeGenerator">
<link rel="chapter" href="zend.config.html" title="第 9 章 Zend_Config">
<link rel="chapter" href="zend.config.writer.html" title="第 10 章 Zend_Config_Writer">
<link rel="chapter" href="zend.console.getopt.html" title="第 11 章 Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="第 12 章 Zend_Controller">
<link rel="chapter" href="zend.currency.html" title="第 13 章 Zend_Currency">
<link rel="chapter" href="zend.date.html" title="第 14 章 Zend_Date">
<link rel="chapter" href="zend.db.html" title="第 15 章 Zend_Db">
<link rel="chapter" href="zend.debug.html" title="第 16 章 Zend_Debug">
<link rel="chapter" href="zend.dojo.html" title="第 17 章 Zend_Dojo">
<link rel="chapter" href="zend.dom.html" title="第 18 章 Zend_Dom">
<link rel="chapter" href="zend.exception.html" title="第 19 章 Zend_Exception">
<link rel="chapter" href="zend.feed.html" title="第 20 章 Zend_Feed">
<link rel="chapter" href="zend.file.html" title="第 21 章 Zend_File">
<link rel="chapter" href="zend.filter.html" title="第 22 章 Zend_Filter">
<link rel="chapter" href="zend.form.html" title="第 23 章 Zend_Form">
<link rel="chapter" href="zend.gdata.html" title="第 24 章 Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="第 25 章 Zend_Http">
<link rel="chapter" href="zend.infocard.html" title="第 26 章 Zend_InfoCard">
<link rel="chapter" href="zend.json.html" title="第 27 章 Zend_Json">
<link rel="chapter" href="zend.layout.html" title="第 28 章 Zend_Layout">
<link rel="chapter" href="zend.ldap.html" title="第 29 章 Zend_Ldap">
<link rel="chapter" href="zend.loader.html" title="第 30 章 Zend_Loader">
<link rel="chapter" href="zend.locale.html" title="第 31 章 Zend_Locale">
<link rel="chapter" href="zend.log.html" title="第 32 章 Zend_Log">
<link rel="chapter" href="zend.mail.html" title="第 33 章 Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="第 34 章 Zend_Measure">
<link rel="chapter" href="zend.memory.html" title="第 35 章 Zend_Memory">
<link rel="chapter" href="zend.mime.html" title="第 36 章 Zend_Mime">
<link rel="chapter" href="zend.navigation.html" title="第 37 章 Zend_Navigation">
<link rel="chapter" href="zend.openid.html" title="第 38 章 Zend_OpenId">
<link rel="chapter" href="zend.paginator.html" title="第 39 章 Zend_Paginator">
<link rel="chapter" href="zend.pdf.html" title="第 40 章 Zend_Pdf">
<link rel="chapter" href="zend.progressbar.html" title="第 41 章 Zend_ProgressBar">
<link rel="chapter" href="zend.queue.html" title="第 42 章 Zend_Queue">
<link rel="chapter" href="zend.reflection.html" title="第 43 章 Zend_Reflection">
<link rel="chapter" href="zend.registry.html" title="第 44 章 Zend_Registry">
<link rel="chapter" href="zend.rest.html" title="第 45 章 Zend_Rest">
<link rel="chapter" href="zend.search.lucene.html" title="第 46 章 Zend_Search_Lucene">
<link rel="chapter" href="zend.server.html" title="第 47 章 Zend_Server">
<link rel="chapter" href="zend.service.html" title="第 48 章 Zend_Service">
<link rel="chapter" href="zend.session.html" title="第 49 章 Zend_Session">
<link rel="chapter" href="zend.soap.html" title="第 50 章 Zend_Soap">
<link rel="chapter" href="zend.tag.html" title="第 51 章 Zend_Tag">
<link rel="chapter" href="zend.test.html" title="第 52 章 Zend_Test">
<link rel="chapter" href="zend.text.html" title="第 53 章 Zend_Text">
<link rel="chapter" href="zend.timesync.html" title="第 54 章 Zend_TimeSync">
<link rel="chapter" href="zend.tool.framework.html" title="第 55 章 Zend_Tool_Framework">
<link rel="chapter" href="zend.tool.project.html" title="第 56 章 Zend_Tool_Project">
<link rel="chapter" href="zend.translate.html" title="第 57 章 Zend_Translate">
<link rel="chapter" href="zend.uri.html" title="第 58 章 Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="第 59 章 Zend_Validate">
<link rel="chapter" href="zend.version.html" title="第 60 章 Zend_Version">
<link rel="chapter" href="zend.view.html" title="第 61 章 Zend_View">
<link rel="chapter" href="zend.wildfire.html" title="第 62 章 Zend_Wildfire">
<link rel="chapter" href="zend.xmlrpc.html" title="第 63 章 Zend_XmlRpc">
<link rel="chapter" href="zendx.console.process.unix.html" title="第 64 章 ZendX_Console_Process_Unix">
<link rel="chapter" href="zendx.jquery.html" title="第 65 章 ZendX_JQuery">
<link rel="appendix" href="requirements.html" title="附录 A. 系统需求">
<link rel="appendix" href="coding-standard.html" title="附录 B. Zend Framework 的 PHP 编码标准">
<link rel="appendix" href="doc-standard.html" title="附录 C. Zend Framework Documentation Standard">
<link rel="appendix" href="project-structure.html" title="附录 D. Recommended Project Structure for Zend Framework MVC Applications">
<link rel="appendix" href="performance.html" title="附录 E. Zend Framework Performance Guide">
<link rel="appendix" href="copyrights.html" title="附录 F. 版权信息">
<link rel="index" href="the.index.html" title="索引">
<link rel="subsection" href="zend.date.overview.html#zend.date.options" title="14.4.1. Zend_Date 选项">
<link rel="subsection" href="zend.date.overview.html#zend.date.values" title="14.4.2.  使用日期值">
<link rel="subsection" href="zend.date.overview.html#id.date.basic" title="14.4.3. Basic Zend_Date Operations Common to Many Date Parts">
<link rel="subsection" href="zend.date.overview.html#zend.date.others.comparison" title="14.4.4.  比较日期">
<link rel="subsection" href="zend.date.overview.html#zend.date.others.gettingparts" title="14.4.5. 获取日期和日期部件">
<link rel="subsection" href="zend.date.overview.html#zend.date.others.fractions" title="14.4.6.  使用秒的片段">
<link rel="subsection" href="zend.date.overview.html#zend.date.other.sun" title="14.4.7.  日出 / 日落">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">14.4. Zend_Date API 概述</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.date.basic.html">上一页</a> </td>
<th width="60%" align="center">第 14 章 Zend_Date</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.date.creation.html">下一页</a>
</td>
</tr>
</table></div>
<div class="sect1" lang="zh-cn">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.date.overview"></a>14.4. Zend_Date API 概述</h2></div></div></div>
<p>
        虽然 <code class="code">Zend_Date</code> API 简单并单一，但是通过操作和操作数的丰富组合，它的设计灵活而强大。
    </p>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.date.options"></a>14.4.1. Zend_Date 选项</h3></div></div></div>
<div class="sect3" lang="zh-cn">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.date.options.formattype"></a>14.4.1.1. 选择日期格式类型</h4></div></div></div>
<p>
                有若干方法使用日期格式串，和 PHP 的 <code class="code">date()</code> 类似。如果你觉得用 PHP 的日期格式指示器（ specifier） 比用 ISO 格式指示器舒服，
                那么你可以使用 <code class="code">Zend_Date::setOptions(array('format_type' =&gt; 'php'))</code> 。
                然后，对所有接受 <code class="code">$format</code> 参数的函数使用 PHP 的日期格式指示器。
                使用 <code class="code">Zend_Date::setOptions(array('format_type' =&gt; 'iso'))</code> 来切换回只支持 ISO 日期格式的缺省模式。
                所支持格式代码，参见 <a href="zend.date.constants.html#zend.date.constants.phpformats" title="14.6.4.  使用 PHP 的 date() 格式指定器的自定义输出格式">第 14.6.4 节 “ 使用 PHP 的 date() 格式指定器的自定义输出格式 ”</a>
            </p>
</div>
<div class="sect3" lang="zh-cn">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.date.options.fixdst"></a>14.4.1.2. DST 和日期数学 </h4></div></div></div>
<p>
                当处理日期时，有时候需要考虑 DST（夏令时）更改的影响，一般是加上或减去一个小时。例如，在DST更改前加
                上月份到日期，如果结果是在DST更改之后，那么结果将会多或少一个小时。对于边界日期，如一个月的第一天或
                最后一天的午夜，添加足够的月份数来跨国日期边界会导致日期丢失一个小时并变成前面月份的最后一个小时，出现 "off by 1"  错误。
                为了避免这个情况发生，通过使用 <code class="code">fix_dst</code> 选项来忽略 DST 更改。当跨过夏天/冬天 DST 边界，一般要加减一个小时。
                例如，如果日期的时间部分是 00:00:00， 日期算术跨过春季 DST 会导致日期比预期少一天。
                因为 Zend_Date 基于时间戳，而不是带有时间组件的日历日期，时间戳丢失一个小时导致日期在日历天上比预期少一天。
                为了防止这样的问题，使用选项 <code class="code">fix_dst</code>，它缺省为 true，这样 DST 在日期“算术”（<code class="code">addMOnth(), subMonth()</code>）里无效。
                当执行日期“算术“，使用 <code class="code">Zend_Date::setOptions(array('fix_dst' =&gt; false))</code> 使日期加减考虑 DST 的调整。
            </p>
<p>
                <span class="strong"><strong>如果在<code class="code">Zend_Date</code>实例里的当前时区设置为 UTC 或 GMT， 就不用 <code class="code">'fix_dst'</code> 选项</strong></span>，
                这是因为这两个时区和 DST 没有关系。当你又为这个实例的时区修改为不是 UTC 或 GMT 的时区，那么先前设置的 'fix_dst'选项将用于日期“算术”。
            </p>
</div>
<div class="sect3" lang="zh-cn">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.date.options.extendmonth"></a>14.4.1.3. 月份计算</h4></div></div></div>
<p>
                当从一个日期加减月份时，如果原来的日期接近月末，结果在某月的某天可能不是所期望的。
                例如，当 1月31日加上1个月是，熟悉 SQL的人将以为结果是 2月28日。另一方面，熟悉 Excel 和 OpenOffice的人将认为结果是 3月3日。
                这种问题只发生在这样的情况下：结果的月份里没有原来的月份的某天。
                对于 ZF 的开发者来说，使用 <code class="code">extend_month</code> 选项，当它为 false，就用 SQL 的方式，当它为 true，就用电子表格（如 Excel） 的方式。
                <code class="code">extend_month</code> 的缺省值为 false，和 SQL 方式兼容。
                缺省地，<code class="code">Zend_Date</code>  通过截取日期的月末部分（如果有必要）来计算月份，当原始日期指定这个月的某天超过结果月的天数时，不需要把它包含到下个月。
                使用 <code class="code">Zend_Date::setOptions(array('extend_month' =&gt; true));</code> 使月份计算就像流行的电子表格程序（如 Excel）一样。
            </p>
</div>
<div class="sect3" lang="zh-cn">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.date.options.cache"></a>14.4.1.4.  用 Zend_Cache 加速日期本地化和标准化 </h4></div></div></div>
<p>
                通过使用 <code class="code">Zend_Cache</code> 适配器，你可以加速 <code class="code">Zend_Date</code> 的运算。当你使用本地化的数据，<code class="code">Zend_Date</code> 的所有方法都会加速。
                例如所有接受 <code class="code">Zend_Date::DATE</code> 和 <code class="code">Zend_Date::TIME</code> 常量的方法将会从中受益。
                用 <code class="code">Zend_Date::setOptions(array('cache' =&gt; $adapter));</code>  就可给 <code class="code">Zend_Date</code> 设置一个 <code class="code">Zend_Cache</code>  适配器。
            </p>
</div>
<div class="sect3" lang="zh-cn">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.date.options.timesync"></a>14.4.1.5.  用 Zend_TimeSync 同步时间戳 </h4></div></div></div>
<p>
                一般来说服务器和计算机上的时钟都不相同。<code class="code">Zend_TimeSync</code> 帮助 <code class="code">Zend_Date</code>  来处理这样的问题。
                你可以用 <code class="code">Zend_Date::setOptions(array('timesync' =&gt; $timeserver));</code>  来设置一个时间服务器，
                它将为所有 Zend_Date 的实例设置自己的实际时间戳和真实的实际时间戳之间的偏移量。使用这个选项不修改已存在的实例的时间戳。
                最好的用法是在引导（bootstrap）文件里设置它。
            </p>
</div>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.date.values"></a>14.4.2.  使用日期值 </h3></div></div></div>
<p>
            一旦通过生成 <code class="code">Zend_Date</code> 对象格式化输入，它就携带一个时区，但在内部用标准的 <a href="http://en.wikipedia.org/wiki/Unix_Time" target="_top">UNIX 时间戳</a> 来表示。
            为了使日期能够本地化解析，必需知道时区。缺省的时区总是 GMT/UTC。用 <code class="code">getTimeZone())</code>  来检查对象的时区。
            用 <code class="code">setTimeZone())</code>  来修改对象的时区。这些对象的所有处理都假定和这个时区相关。
        </p>
<p>
            要小心不同时区之间的对象的混合和日期部件的匹配操作，它可能会产生不期望的结果，除非运算只和时间戳相关。
            除了上述的情况，<code class="code">Zend_Date</code> 对象的操作会处理不同的时区，因为在 <code class="code">Zend_Date</code>  初始化时日期被格式化成时间戳。
        </p>
<p>
            大部分方法需要一个常量来选择需要的日期的<code class="code">$part</code> ，例如 <code class="code">Zend_Date::HOUR</code> 。
            这些常量对下面的所有函数有效，常数列表参见这里 <a href="zend.date.constants.html#zend.date.constants.list" title="14.6.2.  所有常数列表">第 14.6.2 节 “ 所有常数列表 ”</a> 。
            如果没有指定 <code class="code">$part</code>，就使用 <code class="code">Zend_Date::TIMESTAMP</code>。另外，也可以对 <code class="code">$part</code> 使用用户指定的格式，
            和 <a href="zend.locale.date.datesandtimes.html#zend.locale.date.normalize" title="31.4.1. Normalizing Dates and Times"><code class="code">Zend_Locale_Format::getDate()</code></a> 的基本机制和格式一样。
            如果日期对象用明显的无效日期（如大于12的月份）来构造，那么 <code class="code">Zend_Date</code>  将抛出异常，除非没有指定日期格式。例如，
            <code class="code">$part</code> 是 <code class="code">null</code> 或者 <code class="code">Zend_Date::DATES</code> （"宽松" 格式） 。
        </p>
<div class="example">
<a name="zend.date.values.example-1"></a><p class="title"><b>例 14.8.  用户指定的日期输入格式 </b></p>
<div class="example-contents"><pre class="programlisting">
$date1 = new Zend_Date('Feb 31, 2007', null, 'en_US');
echo $date1, "\n"; // outputs "Mar 3, 2007 12:00:00 AM"

$date2 = new Zend_Date('Feb 31, 2007', Zend_Date::DATES, 'en_US');
echo $date2, "\n"; // outputs "Mar 3, 2007 12:00:00 AM"

// strictly restricts interpretation to specified format
$date3 = new Zend_Date('Feb 31, 2007', 'MM.dd.yyyy');
echo $date3, "\n"; // outputs "Mar 3, 2007 12:00:00 AM"

            </pre></div>
</div>
<br class="example-break"><p>
            如果提供了可选的 <code class="code">$locale</code> 参数，那么 <code class="code">$locale</code> 通过给 <code class="code">$date</code> 操作数替换月和星期名来消除它的歧义，
            即使根据那个地方的约定来解析日期字符串 （参见 <code class="code"><a href="zend.locale.date.datesandtimes.html#zend.locale.date.normalize" title="31.4.1. Normalizing Dates and Times">Zend_Locale_Format::getDate()</a></code>）。
            当 <code class="code">$part</code>  是 <code class="code">Zend_Date::DATE*</code> 或 <code class="code">Zend_Date::TIME*</code> 常量其中之一，本地化的字符串类型的 <code class="code">$date</code> 就自动格式化。
            如果 <code class="code">$date</code> 是包含日期的字符串，语言的地方标识符要用来解析月和星期的名字。
            如果没有 <code class="code">$date</code>  输入参数，那么 <code class="code">$locale</code> 参数指定地方来用于本地化输出（例如，日期格式的字符串表示）。
            注意 <code class="code">$date</code>  输入参数可能实际有类型名 （例如 <code class="code">$hour</code> 对于 <code class="code">addHour()</code>），尽管它不能防止用 <code class="code">Zend_Date</code> 对象作为参数。
            如果没有指定 <code class="code">$locale</code> ，那么当前对象的地方用于解释 <code class="code">$date</code>，或选择本地化的格式来输出。
        </p>
<p>
        从 Zend Framework 1.7.0 开始，<code class="code">Zend_Date</code> 也支持程序范围的地方的用法。你可以简单地如下设置 <code class="code">Zend_Locale</code> 实例到注册表。
        如果你想多次使用同一地方，用这个符号你不需要记住对每个实例手工设置地方。
     </p>
<pre class="programlisting">
// in your bootstrap file
$locale = new Zend_Locale('de_AT');
Zend_Registry::set('Zend_Locale', $locale);

// somewhere in your application
$date = new Zend_Date('31.Feb.2007');

    </pre>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="id.date.basic"></a>14.4.3. Basic <code class="code">Zend_Date</code> Operations Common to Many Date Parts</h3></div></div></div>
<p>
            <code class="code">add(), sub(), compare(), get(), and set()</code> 方法一般用来操作日期，就是操作对象里的日期。
            除了 <code class="code">get()</code>以外，<code class="code">$date</code> 操作数对所有这些方法是必需的，它可能是 <code class="code">Zend_Date</code>  实例对象、数字字符串或一个整数。
            如果 <code class="code">$date</code> 不是对象，这些方法就假定它是时间戳。然而，<code class="code">$part</code> 操作数控制两个日期的逻辑部分，允许操作对象的日期的部件，如年或分钟，
            即使 <code class="code">$date</code> 包含一个长格式日期字符串，如 "December 31, 2007 23:59:59" 。
            除了 <code class="code">compare()</code> 和 <code class="code">get()</code> 外，操作的结果是在对象里修改日期。
        </p>
<div class="example">
<a name="zend.date.basic.example-1"></a><p class="title"><b>例 14.9.  日期部件的操作 </b></p>
<div class="example-contents"><pre class="programlisting">
$date = new Zend_Date(); // $date's timestamp === time()

// changes $date by adding 12 hours
$date-&gt;add('12', Zend_Date::HOUR);
print $date;

            </pre></div>
</div>
<br class="example-break"><p>
            下表显示了基本操作的每个组合和若干普通的日期部件的方便方法。当使用上述一般的方法时，这些方便的方法帮助我们懒惰的程序员避免在<a href="zend.date.constants.html#zend.date.constants.list" title="14.6.2.  所有常数列表"> 日期部件常量 </a> 方面的打字。
            方便地，它们的名称由前缀（基本操作名）和后缀（日期部件类型）的组成，如 <code class="code">addYear()</code> 。
            在下面列表中，能看到所有“日期部件”和“基本操作”的组合。例如，"add"操作适用于这些日期部件，包括 <code class="code">addDay()</code>、 <code class="code">addYear()</code> 等。
        </p>
<p>
            这些方便的方法和基本操作方法有相同的功能，但期望字符串和整数的 <code class="code">$date</code> 操作数只包含表示由方便方法的后缀指示的类型的值。
            这样，当<code class="code">$date</code>是字符串或整数时， 这些方法的名字（如"Year" 或 "Minute"）能确定 <code class="code">$date</code>  操作数的单元。
        </p>
<div class="sect3" lang="zh-cn">
<div class="titlepage"><div><div><h4 class="title">
<a name="id.date.basic.parts"></a>14.4.3.1.  日期部件列表 </h4></div></div></div>
<div class="table">
<a name="id.date.basic.parts.table"></a><p class="title"><b>表 14.1. 日期部件</b></p>
<div class="table-contents"><table summary="日期部件" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>日期部件</th>
<th>解释</th>
</tr></thead>
<tbody>
<tr>
<td>
                                <a href="http://en.wikipedia.org/wiki/Unix_Time" target="_top">时间戳</a>
                            </td>
<td>
                            UNIX 时间戳，表示从 January 1st, 1970 00:00:00 GMT/UTC 开始的秒数。
                        </td>
</tr>
<tr>
<td>
                                <a href="http://en.wikipedia.org/wiki/Gregorian_calendar" target="_top">年</a>
                            </td>
<td> 罗马教皇日历年（如 2006）</td>
</tr>
<tr>
<td>
                                <a href="http://en.wikipedia.org/wiki/Month#Julian_and_Gregorian_calendars" target="_top">月</a>
                            </td>
<td> 罗马教皇日历月（1-12, 支持本地化名字）</td>
</tr>
<tr>
<td>
                                <a href="http://en.wikipedia.org/wiki/24-hour_clock" target="_top">24 小时时钟 </a>
                            </td>
<td>一天的小时数(0-23)，表示从一天开始算起过去的小时数。</td>
</tr>
<tr>
<td>
                                <a href="http://en.wikipedia.org/wiki/Minute" target="_top">分钟</a>
                            </td>
<td>一小时的分钟数(0-59)，表示从一小时开始算起过去的分钟数。</td>
</tr>
<tr>
<td>
                                <a href="http://en.wikipedia.org/wiki/Second" target="_top">秒</a>
                            </td>
<td>一分钟的秒数(0-59)，表示从一分钟开始算起过去的秒数。</td>
</tr>
<tr>
<td>
                                <a href="http://en.wikipedia.org/wiki/Millisecond" target="_top">毫秒</a>
                            </td>
<td>
                                毫秒表示千分之一秒(0-999)。<code class="code">Zend_Date</code> 支持两个另外的方法来支持小于秒的时间单位。
                                缺省地，<code class="code">Zend_Date</code>  实例精确到毫秒，如 <code class="code">getFractionalPrecision()</code> ，我们用 <code class="code">setFractionalPrecision($precision)</code> 来修改精确度。
                                然而，因为 <code class="code">Zend_Date</code> 使用 <code class="code"><a href="http://php.net/microtime" target="_top">microtime()</a></code>，精确度实际上限制到微秒。
                            </td>
</tr>
<tr>
<td>
                                <a href="http://en.wikipedia.org/wiki/Day" target="_top">天</a>
                            </td>
<td>
                                如果 <code class="code">$date</code>  操作数是 <code class="code">Zend_Date</code> 的实例或一个数字字符串，<code class="code">Zend_Date::DAY_SHORT</code> 是从 <code class="code">$date</code> 里取出。
                                否则，根据这些文档 <code class="code">Zend_Date::WEEKDAY_NARROW</code>、
                                <code class="code">Zend_Date::WEEKDAY_NAME</code>、 <code class="code">Zend_Date::WEEKDAY_SHORT</code> 和 <code class="code">Zend_Date::WEEKDAY</code> （假定为罗马教皇日历）的惯例尝试从天里取出。
                            </td>
</tr>
<tr>
<td>
                                <a href="http://en.wikipedia.org/wiki/Week" target="_top">星期</a>
                            </td>
<td>
                                如果 <code class="code">$date</code>  操作数是 <code class="code">Zend_Date</code> 的实例或一个数字字符串，<code class="code">Zend_Date::WEEK</code> 是从 <code class="code">$date</code> 里取出。
                                否则产生一个异常。（假定为罗马教皇日历）
                             </td>
</tr>
<tr>
<td>日期</td>
<td>
                                如果 <code class="code">$date</code>  操作数是 <code class="code">Zend_Date</code> 的实例或一个数字字符串，<code class="code">Zend_Date::DAY_MEDIUM</code> 是从 <code class="code">$date</code> 里取出。
                                否则就尝试格式化 <code class="code">$date</code>  字符串成 Zend_Date::DATE_MEDIUM  日期格式。
                                <code class="code">Zend_Date::DAY_MEDIUM</code>  格式根据地方的不同而不同。
                            </td>
</tr>
<tr>
<td>Weekday</td>
<td>
                                Weekdays 表示为从 0 （星期日） 到 6 （星期六）.
                                如果 <code class="code">$date</code>  操作数是 <code class="code">Zend_Date</code> 的实例或一个数字字符串，<code class="code">Zend_Date::WEEKDAY_DIGIT</code> 是从 <code class="code">$date</code> 里取出。
                                否则，根据这些文档 <code class="code">Zend_Date::WEEKDAY_NARROW</code>、
                                <code class="code">Zend_Date::WEEKDAY_NAME</code>、 <code class="code">Zend_Date::WEEKDAY_SHORT</code> 和 <code class="code">Zend_Date::WEEKDAY</code> （假定为罗马教皇日历）的惯例尝试从天里取出。
                            </td>
</tr>
<tr>
<td>DayOfYear</td>
<td>
                                在 <code class="code">Zend_Date</code>，一年中的天表示从一年开始发生的日历天数（0-365）。和其它上述单元一样，小数四舍五入到最近的整数。（假定为罗马教皇日历）
                            </td>
</tr>
<tr>
<td>
                                <a href="http://www.faqs.org/rfcs/rfc822.html" target="_top">Arpa</a>
                            </td>
<td>
                                我们支持 Arpa 日期（如 RFC 822 格式日期）。输出使用 "GMT"  或 "Local differential hours+min"  格式（见第5节的 RFC 822）。
                                在 PHP 5.2.2 以前，一起使用 DATE_RFC822 常量和 PHP 日期函数有时会产生 <a href="http://bugs.php.net/bug.php?id=40308" target="_top">不正确的结果</a>。
                                Zend_Date 的结果是正确的。例如 <code class="code">Mon, 31 Dec 06 23:59:59 GMT</code> 。
                            </td>
</tr>
<tr>
<td>
                                <a href="http://en.wikipedia.org/wiki/ISO_8601" target="_top">Iso</a>
                            </td>
<td>
                                对于输出只支持完全的 ISO 8601 日期。例如：<code class="code">2009-02-14T00:31:30+01:00</code>
                            </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="sect3" lang="zh-cn">
<div class="titlepage"><div><div><h4 class="title">
<a name="id.date.basic.operations"></a>14.4.3.2. List of Date Operations 日期操作列表</h4></div></div></div>
<p>
                如果 <a href="zend.date.constants.html#zend.date.constants.list" title="14.6.2.  所有常数列表"> 合适的常量 </a> 用于 <code class="code">$part</code> 参数，
                对特定日期部件，下列基本操作可用来代替方便操作。
            </p>
<div class="table">
<a name="id.date.basic.operations.table"></a><p class="title"><b>表 14.2. 基本操作</b></p>
<div class="table-contents"><table summary="基本操作" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>基本操作</th>
<th>解释</th>
</tr></thead>
<tbody>
<tr>
<td>get()</td>
<td>
                                <p>
                                    <span class="strong"><strong>get($part = null, $locale = null)</strong></span>
                                </p>
                                <p>
                                    使用 <code class="code">get($part)</code>  来获取这个对象的本地化到 <code class="code">$locale</code> 为格式的字符串或整数的日期的 <code class="code">$part</code> 。
                                    当使用 BCMath 扩展，对大的值返回数字字符串而不是整数。
                                    <span class="strong"><strong>注:</strong></span> 不像 <code class="code">get()</code>，其它 get*()  方便方法只返回 <code class="code">Zend_Date</code>  的实例，
                                    该实例包含一个表示选择的或计算的日期/时间的日期。
                                </p>
                            </td>
</tr>
<tr>
<td>set()</td>
<td>
                                <p>
                                    <span class="strong"><strong>set($date, $part = null, $locale = null)</strong></span>
                                </p>
                                <p>
                                    对从带有 <code class="code">$locale</code> 地方的输入 <code class="code">$date</code> 找到的部件设置当前对象的 <code class="code">$part</code> 一个相应的值。
                                </p>
                            </td>
</tr>
<tr>
<td>add()</td>
<td>
                                <p>
                                    <span class="strong"><strong>add($date, $part = null, $locale = null)</strong></span>
                                </p>
                                <p>
                                    加上带有  <code class="code">$locale</code>  地方的 <code class="code">$date</code> 的 <code class="code">$part</code> 到当前对象的日期。
                                </p>
                            </td>
</tr>
<tr>
<td>sub()</td>
<td>
                                <p>
                                    <span class="strong"><strong>sub($date, $part = null, $locale = null)</strong></span>
                                </p>
                                <p>
                                    从当前对象的日期减去 加上带有  <code class="code">$locale</code>  地方的 <code class="code">$date</code> 的 <code class="code">$part</code> 。
                                </p>
                            </td>
</tr>
<tr>
<td>copyPart()</td>
<td>
                                <p>
                                    <span class="strong"><strong>copyPart($part, $locale = null)</strong></span>
                                </p>
                                <p>
                                    返回一个克隆的对象，只带有拷贝到克隆的对象的日期的 <code class="code">$part</code> ，克隆带有它自己的地方任意地设置为 <code class="code">$locale</code> （如果指定）。
                                </p>
                            </td>
</tr>
<tr>
<td>compare()</td>
<td>
                                <p>
                                    <span class="strong"><strong>compare($date, $part = null, $locale = null)</strong></span>
                                </p>
                                <p>
                                    比较 <code class="code">$date</code> 的 <code class="code">$part</code> 和这个对象的时间戳，如果相等返回 0，如果对象部分更晚，返回1，否则返回 -1。
                                </p>
                            </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.date.others.comparison"></a>14.4.4.  比较日期 </h3></div></div></div>
<p>
             对于列表在 <a href="zend.date.overview.html" title="14.4. Zend_Date API 概述">第 14.4 节 “Zend_Date API 概述”</a>的日期部件，下列基本操作没有相应的方便方法。
        </p>
<div class="table">
<a name="zend.date.others.comparison.table"></a><p class="title"><b>表 14.3.  日期比较方法 </b></p>
<div class="table-contents"><table summary=" 日期比较方法 " border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>方法</th>
<th>解释</th>
</tr></thead>
<tbody>
<tr>
<td>equals()</td>
<td>
                            <p>
                                <span class="strong"><strong>equals($date, $part = null, $locale = null)</strong></span>
                            </p>
                            <p>
                                如果有 <code class="code">$locale</code> 地方的 <code class="code">$date</code> 的 <code class="code">$part</code> 和这个对象的 <code class="code">$part</code> 一样，返回 true，否则返回 false。
                             </p>
                        </td>
</tr>
<tr>
<td>isEarlier()</td>
<td>
                            <p>
                                <span class="strong"><strong>isEarlier($date, $part = null, $locale = null)</strong></span>
                            </p>
                            <p>
                                 如果对象的日期的 <code class="code">$part</code> 早于 有 <code class="code">$locale</code> 地方的 <code class="code">$date</code> 的 <code class="code">$part</code> ，返回 true。
                            </p>
                        </td>
</tr>
<tr>
<td>isLater()</td>
<td>
                            <p>
                                <span class="strong"><strong>isLater($date, $part = null, $locale = null)</strong></span>
                            </p>
                            <p>
                               如果对象的日期的 <code class="code">$part</code> 晚于有 <code class="code">$locale</code> 地方的 <code class="code">$date</code> 的 <code class="code">$part</code> ，返回 true。
                            </p>
                        </td>
</tr>
<tr>
<td>isToday()</td>
<td>
                            <p>
                                <span class="strong"><strong>isToday()</strong></span>
                            </p>
                            <p>
                                 测试是否今天的年、月、日匹配这个对象的日期值，使用对象的时区。
                            </p>
                        </td>
</tr>
<tr>
<td>isTomorrow()</td>
<td>
                            <p>
                                <span class="strong"><strong>isTomorrow()</strong></span>
                            </p>
                            <p>
                                测试是否明天的年、月、日匹配这个对象的日期值，使用对象的时区。
                            </p>
                        </td>
</tr>
<tr>
<td>isYesterday()</td>
<td>
                            <p>
                                <span class="strong"><strong>isYesterday()</strong></span>
                            </p>
                            <p>
                                测试是否昨天的年、月、日匹配这个对象的日期值，使用对象的时区。
                            </p>
                        </td>
</tr>
<tr>
<td>isLeapYear()</td>
<td>
                            <p>
                                <span class="strong"><strong>isLeapYear()</strong></span>
                            </p>
                            <p>
                                使用 <code class="code">isLeapYear()</code> 来确定当前对象是否闰年，或使用  Zend_Date::checkLeapYear($year) 来
                                检查 $year，它可以是字符串、整数或 <code class="code">Zend_Date</code>  的实例。这个年是闰年吗？
                            </p>
                        </td>
</tr>
<tr>
<td>isDate()</td>
<td>
                            <p>
                                <span class="strong"><strong>isDate($date, $format = null, $locale = null)</strong></span>
                            </p>
                            <p>
                                这个方法检查给定的日期是否一个真实的日期并且如果所有检查通过返回 true。
                                它和 php 的 checkdate() 函数一样但也检查本地化月名和扩展了 checkdate() 范围的日期。
                            </p>
                        </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.date.others.gettingparts"></a>14.4.5. 获取日期和日期部件</h3></div></div></div>
<p>
            有若干方法支持获取和 <code class="code">Zend_Date</code> 实例相关的值。
        </p>
<div class="table">
<a name="zend.date.others.gettingparts.table"></a><p class="title"><b>表 14.4. 日期输出方法</b></p>
<div class="table-contents"><table summary="日期输出方法" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>方法</th>
<th>解释</th>
</tr></thead>
<tbody>
<tr>
<td>toString()</td>
<td>
                            <p>
                                <span class="strong"><strong>toString($format = null, $locale = null)</strong></span>
                            </p>
                            <p>
                                直接调用或通过魔术方法 <code class="code">__toString()</code> 。<code class="code">toString()</code> 根据对象地方（或可选地指定 <code class="code">$locale</code>）的约定
                                来自动格式化日期对象的值。支持的格式代码列表，参见 <a href="zend.date.constants.html#zend.date.constants.selfdefinedformats" title="14.6.3.  自定义 ISO 输出格式">第 14.6.3 节 “ 自定义 ISO 输出格式 ”</a> 。
                            </p>
                        </td>
</tr>
<tr>
<td>toArray()</td>
<td>
                            <p>
                                <span class="strong"><strong>toArray()</strong></span>
                            </p>
                            <p>
                                根据对象的地方的约定返回选择的日期的表示的数组。返回数组和 PHP 的 <a href="http://php.net/getdate" target="_top">getdate()</a>
                                函数相同并包括：
                            </p>
                            <p>
                                </p>
<div class="itemizedlist"><ul type="disc">
<li><p>
                                            Number of day as '<span class="strong"><strong>day</strong></span>'
                                            (<code class="code">Zend_Date::DAY_SHORT</code>)
                                        </p></li>
<li><p>
                                            Number of month as '<span class="strong"><strong>month</strong></span>'
                                            (<code class="code">Zend_Date::MONTH_SHORT</code>)
                                        </p></li>
<li><p>
                                            Year as '<span class="strong"><strong>year</strong></span>'
                                            (<code class="code">Zend_Date::YEAR</code>)
                                        </p></li>
<li><p>
                                            Hour as '<span class="strong"><strong>hour</strong></span>'
                                            (<code class="code">Zend_Date::HOUR_SHORT</code>)
                                        </p></li>
<li><p>
                                            Minute as '<span class="strong"><strong>minute</strong></span>'
                                            (<code class="code">Zend_Date::MINUTE_SHORT</code>)
                                        </p></li>
<li><p>
                                            Second as '<span class="strong"><strong>second</strong></span>'
                                            (<code class="code">Zend_Date::SECOND_SHORT</code>)
                                        </p></li>
<li><p>
                                            Abbreviated timezone as '<span class="strong"><strong>timezone</strong></span>'
                                            (<code class="code">Zend_Date::TIMEZONE</code>)
                                        </p></li>
<li><p>
                                            Unix timestamp as '<span class="strong"><strong>timestamp</strong></span>'
                                            (<code class="code">Zend_Date::TIMESTAMP</code>)
                                        </p></li>
<li><p>
                                            Number of weekday as '<span class="strong"><strong>weekday</strong></span>'
                                            (<code class="code">Zend_Date::WEEKDAY_DIGIT</code>)
                                        </p></li>
<li><p>
                                            Day of year as '<span class="strong"><strong>dayofyear</strong></span>'
                                            (<code class="code">Zend_Date::DAY_OF_YEAR</code>)
                                        </p></li>
<li><p>
                                            Week as '<span class="strong"><strong>week</strong></span>'
                                            (<code class="code">Zend_Date::WEEK</code>)
                                        </p></li>
<li><p>
                                            Delay of timezone to GMT as
                                            '<span class="strong"><strong>gmtsecs</strong></span>'
                                            (<code class="code">Zend_Date::GMT_SECS</code>)
                                        </p></li>
</ul></div>
<p>
                            </p>
                        </td>
</tr>
<tr>
<td>toValue()</td>
<td>
                            <p>
                                <span class="strong"><strong>toValue($part = null)</strong></span>
                            </p>
                            <p>
                                根据对象的地方的约定返回一个整数的选择的日期 <code class="code">$part</code> 表示。
                                当 <code class="code">$part</code>选择非数字值，如 <code class="code">Zend_Date::MONTH_NAME_SHORT</code> ，返回 <code class="code">false</code>。
                                <span class="strong"><strong>注:</strong></span>这个方法调用 <a href="zend.date.overview.html#id.date.basic.operations" title="14.4.3.2. List of Date Operations 日期操作列表"><code class="code">get()</code></a>
                                并把结果做成 PHP 整数，如果  <code class="code">get()</code> 返回一个包含对于你的系统的PHP太大的数的字符串，结果不可预计。
                                使用 <code class="code">get()</code> 作为替换。

                            </p>
                        </td>
</tr>
<tr>
<td>
                            <a href="zend.date.overview.html#id.date.basic.operations" title="14.4.3.2. List of Date Operations 日期操作列表">get()</a>
                        </td>
<td>
                            <p>
                                <span class="strong"><strong>get($part = null, $locale = null)</strong></span>
                            </p>
                            <p>
                                这个方法返回对象根据 <code class="code">$locale</code> 本地化的日期的 <code class="code">$part</code>，格式为字符串或整数。
                                更多信息参见<a href="zend.date.overview.html#id.date.basic.operations" title="14.4.3.2. List of Date Operations 日期操作列表">第 14.4.3.2 节 “List of Date Operations 日期操作列表”</a>。
                            </p>
                        </td>
</tr>
<tr>
<td>now()</td>
<td>
                            <p>
                                <span class="strong"><strong>now($locale = null)</strong></span>
                            </p>
                            <p>
                                这个方便函数和 <code class="code">new Zend_Date()</code> 相同。它以<code class="code">Zend_Date</code>对象返回当前日期，有 <code class="code">$locale</code> 。
                            </p>
                        </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.date.others.fractions"></a>14.4.6.  使用秒的片段 </h3></div></div></div>
<p>
            Several methods support retrieving values related to a <code class="code">Zend_Date</code> instance.
        </p>
<div class="table">
<a name="zend.date.others.fractions.table"></a><p class="title"><b>表 14.5.  日期输出方法 </b></p>
<div class="table-contents"><table summary=" 日期输出方法 " border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>方法</th>
<th>解释</th>
</tr></thead>
<tbody>
<tr>
<td>
                            <p>
                                <span class="strong"><strong>getFractionalPrecision()</strong></span>
                            </p>
                        </td>
<td> 返回秒的精度 </td>
</tr>
<tr>
<td>
                            <p>
                                <span class="strong"><strong>setFractionalPrecision()</strong></span>
                            </p>
                        </td>
<td> 设置秒的精度 </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.date.other.sun"></a>14.4.7.  日出 / 日落 </h3></div></div></div>
<p>
            有三个方法提供访问关于太阳的地理本地化信息，包括日出和日落的时间。
        </p>
<div class="table">
<a name="zend.date.other.sun.table"></a><p class="title"><b>表 14.6.  辅助方法 </b></p>
<div class="table-contents"><table summary=" 辅助方法 " border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>方法</th>
<th>解释</th>
</tr></thead>
<tbody>
<tr>
<td>
                            <p>
                                <span class="strong"><strong>getSunrise($location)</strong></span>
                            </p>
                        </td>
<td> 返回日期的日出时间 </td>
</tr>
<tr>
<td>
                            <p>
                                <span class="strong"><strong>getSunset($location)</strong></span>
                            </p>
                        </td>
<td> 返回日期的日落时间 </td>
</tr>
<tr>
<td>
                            <p>
                                <span class="strong"><strong>getSunInfo($location)</strong></span>
                            </p>
                        </td>
<td> 返回带有日期的太阳日期的数组 </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.date.basic.html">上一页</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.date.html">上一级</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.date.creation.html">下一页</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">14.3. 基本方法 </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td>
<td width="40%" align="right" valign="top"> 14.5. 生成日期</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
