<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>第 49 章 Zend_Session</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="Zend Framework手册 中文版">
<link rel="up" href="index.html" title="Zend Framework手册 中文版">
<link rel="prev" href="zend.service.yahoo.html" title="48.29. Zend_Service_Yahoo">
<link rel="next" href="zend.session.basic_usage.html" title="49.2. 基本用法">
<link rel="chapter" href="introduction.html" title="第 1 章 Zend Framework简介">
<link rel="chapter" href="zend.acl.html" title="第 2 章 Zend_Acl">
<link rel="chapter" href="zend.amf.html" title="第 3 章 Zend_Amf">
<link rel="chapter" href="zend.application.html" title="第 4 章 Zend_Application">
<link rel="chapter" href="zend.auth.html" title="第 5 章 Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="第 6 章 Zend_Cache">
<link rel="chapter" href="zend.captcha.html" title="第 7 章 Zend_Captcha">
<link rel="chapter" href="zend.codegenerator.html" title="第 8 章 Zend_CodeGenerator">
<link rel="chapter" href="zend.config.html" title="第 9 章 Zend_Config">
<link rel="chapter" href="zend.config.writer.html" title="第 10 章 Zend_Config_Writer">
<link rel="chapter" href="zend.console.getopt.html" title="第 11 章 Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="第 12 章 Zend_Controller">
<link rel="chapter" href="zend.currency.html" title="第 13 章 Zend_Currency">
<link rel="chapter" href="zend.date.html" title="第 14 章 Zend_Date">
<link rel="chapter" href="zend.db.html" title="第 15 章 Zend_Db">
<link rel="chapter" href="zend.debug.html" title="第 16 章 Zend_Debug">
<link rel="chapter" href="zend.dojo.html" title="第 17 章 Zend_Dojo">
<link rel="chapter" href="zend.dom.html" title="第 18 章 Zend_Dom">
<link rel="chapter" href="zend.exception.html" title="第 19 章 Zend_Exception">
<link rel="chapter" href="zend.feed.html" title="第 20 章 Zend_Feed">
<link rel="chapter" href="zend.file.html" title="第 21 章 Zend_File">
<link rel="chapter" href="zend.filter.html" title="第 22 章 Zend_Filter">
<link rel="chapter" href="zend.form.html" title="第 23 章 Zend_Form">
<link rel="chapter" href="zend.gdata.html" title="第 24 章 Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="第 25 章 Zend_Http">
<link rel="chapter" href="zend.infocard.html" title="第 26 章 Zend_InfoCard">
<link rel="chapter" href="zend.json.html" title="第 27 章 Zend_Json">
<link rel="chapter" href="zend.layout.html" title="第 28 章 Zend_Layout">
<link rel="chapter" href="zend.ldap.html" title="第 29 章 Zend_Ldap">
<link rel="chapter" href="zend.loader.html" title="第 30 章 Zend_Loader">
<link rel="chapter" href="zend.locale.html" title="第 31 章 Zend_Locale">
<link rel="chapter" href="zend.log.html" title="第 32 章 Zend_Log">
<link rel="chapter" href="zend.mail.html" title="第 33 章 Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="第 34 章 Zend_Measure">
<link rel="chapter" href="zend.memory.html" title="第 35 章 Zend_Memory">
<link rel="chapter" href="zend.mime.html" title="第 36 章 Zend_Mime">
<link rel="chapter" href="zend.navigation.html" title="第 37 章 Zend_Navigation">
<link rel="chapter" href="zend.openid.html" title="第 38 章 Zend_OpenId">
<link rel="chapter" href="zend.paginator.html" title="第 39 章 Zend_Paginator">
<link rel="chapter" href="zend.pdf.html" title="第 40 章 Zend_Pdf">
<link rel="chapter" href="zend.progressbar.html" title="第 41 章 Zend_ProgressBar">
<link rel="chapter" href="zend.queue.html" title="第 42 章 Zend_Queue">
<link rel="chapter" href="zend.reflection.html" title="第 43 章 Zend_Reflection">
<link rel="chapter" href="zend.registry.html" title="第 44 章 Zend_Registry">
<link rel="chapter" href="zend.rest.html" title="第 45 章 Zend_Rest">
<link rel="chapter" href="zend.search.lucene.html" title="第 46 章 Zend_Search_Lucene">
<link rel="chapter" href="zend.server.html" title="第 47 章 Zend_Server">
<link rel="chapter" href="zend.service.html" title="第 48 章 Zend_Service">
<link rel="chapter" href="zend.session.html" title="第 49 章 Zend_Session">
<link rel="chapter" href="zend.soap.html" title="第 50 章 Zend_Soap">
<link rel="chapter" href="zend.tag.html" title="第 51 章 Zend_Tag">
<link rel="chapter" href="zend.test.html" title="第 52 章 Zend_Test">
<link rel="chapter" href="zend.text.html" title="第 53 章 Zend_Text">
<link rel="chapter" href="zend.timesync.html" title="第 54 章 Zend_TimeSync">
<link rel="chapter" href="zend.tool.framework.html" title="第 55 章 Zend_Tool_Framework">
<link rel="chapter" href="zend.tool.project.html" title="第 56 章 Zend_Tool_Project">
<link rel="chapter" href="zend.translate.html" title="第 57 章 Zend_Translate">
<link rel="chapter" href="zend.uri.html" title="第 58 章 Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="第 59 章 Zend_Validate">
<link rel="chapter" href="zend.version.html" title="第 60 章 Zend_Version">
<link rel="chapter" href="zend.view.html" title="第 61 章 Zend_View">
<link rel="chapter" href="zend.wildfire.html" title="第 62 章 Zend_Wildfire">
<link rel="chapter" href="zend.xmlrpc.html" title="第 63 章 Zend_XmlRpc">
<link rel="chapter" href="zendx.console.process.unix.html" title="第 64 章 ZendX_Console_Process_Unix">
<link rel="chapter" href="zendx.jquery.html" title="第 65 章 ZendX_JQuery">
<link rel="appendix" href="requirements.html" title="附录 A. 系统需求">
<link rel="appendix" href="coding-standard.html" title="附录 B. Zend Framework 的 PHP 编码标准">
<link rel="appendix" href="doc-standard.html" title="附录 C. Zend Framework Documentation Standard">
<link rel="appendix" href="project-structure.html" title="附录 D. Recommended Project Structure for Zend Framework MVC Applications">
<link rel="appendix" href="performance.html" title="附录 E. Zend Framework Performance Guide">
<link rel="appendix" href="copyrights.html" title="附录 F. 版权信息">
<link rel="index" href="the.index.html" title="索引">
<link rel="section" href="zend.session.html#zend.session.introduction" title="49.1. 简介">
<link rel="section" href="zend.session.basic_usage.html" title="49.2. 基本用法">
<link rel="section" href="zend.session.advanced_usage.html" title="49.3. 高级用法">
<link rel="section" href="zend.session.global_session_management.html" title="49.4. 全局会话管理">
<link rel="section" href="zend.session.savehandler.dbtable.html" title="49.5. Zend_Session_SaveHandler_DbTable">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">第 49 章 Zend_Session</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.service.yahoo.html">上一页</a> </td>
<th width="60%" align="center"> </th>
<td width="20%" align="right"> <a accesskey="n" href="zend.session.basic_usage.html">下一页</a>
</td>
</tr>
</table></div>
<div class="chapter" lang="zh-cn">
<div class="titlepage"><div><div><h2 class="title">
<a name="zend.session"></a>第 49 章 Zend_Session</h2></div></div></div>
<div class="toc">
<p><b>目录</b></p>
<dl>
<dt><span class="sect1"><a href="zend.session.html#zend.session.introduction">49.1. 简介</a></span></dt>
<dt><span class="sect1"><a href="zend.session.basic_usage.html">49.2. 基本用法</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.session.basic_usage.html#zend.session.basic_usage.basic_examples">49.2.1. 实例教程</a></span></dt>
<dt><span class="sect2"><a href="zend.session.basic_usage.html#zend.session.basic_usage.iteration">49.2.2. 迭代会话命名空间</a></span></dt>
<dt><span class="sect2"><a href="zend.session.basic_usage.html#zend.session.basic_usage.accessors">49.2.3. 会话命名空间的访问器</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.session.advanced_usage.html">49.3. 高级用法</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.session.advanced_usage.html#zend.session.advanced_usage.starting_a_session">49.3.1. 开启会话</a></span></dt>
<dt><span class="sect2"><a href="zend.session.advanced_usage.html#zend.session.advanced_usage.locking">49.3.2. 锁住会话命名空间</a></span></dt>
<dt><span class="sect2"><a href="zend.session.advanced_usage.html#zend.session.advanced_usage.expiration">49.3.3. 命名空间过期</a></span></dt>
<dt><span class="sect2"><a href="zend.session.advanced_usage.html#zend.session.advanced_usage.controllers">49.3.4. 会话封装和控制器</a></span></dt>
<dt><span class="sect2"><a href="zend.session.advanced_usage.html#zend.session.advanced_usage.single_instance">49.3.5. 防止每个命名空间有多重实例</a></span></dt>
<dt><span class="sect2"><a href="zend.session.advanced_usage.html#zend.session.advanced_usage.arrays">49.3.6. 使用数组</a></span></dt>
<dt><span class="sect2"><a href="zend.session.advanced_usage.html#zend.session.advanced_usage.objects">49.3.7. 在对象中使用会话</a></span></dt>
<dt><span class="sect2"><a href="zend.session.advanced_usage.html#zend.session.advanced_usage.testing">49.3.8. 在单元测试中使用会话</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.session.global_session_management.html">49.4. 全局会话管理</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.configuration_options">49.4.1. 配置选项</a></span></dt>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.headers_sent">49.4.2. 错误：Headers Already Sent</a></span></dt>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.session_identifiers">49.4.3. 会话标识符</a></span></dt>
<dd><dl><dt><span class="sect3"><a href="zend.session.global_session_management.html#zend.session.global_session_management.session_identifiers.hijacking_and_fixation">49.4.3.1. 会话劫持和会话固定</a></span></dt></dl></dd>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.rememberme">49.4.4. <code class="code">rememberMe(integer $seconds)</code></a></span></dt>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.forgetme">49.4.5. <code class="code">forgetMe()</code></a></span></dt>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.sessionexists">49.4.6. <code class="code">sessionExists()</code></a></span></dt>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.destroy">49.4.7. <code class="code">destroy(bool $remove_cookie = true, bool $readonly = true)</code></a></span></dt>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.stop">49.4.8. <code class="code">stop()</code></a></span></dt>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.writeclose">49.4.9. <code class="code">writeClose($readonly = true)</code></a></span></dt>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.expiresessioncookie">49.4.10. <code class="code">expireSessionCookie()</code></a></span></dt>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.savehandler">49.4.11. <code class="code">setSaveHandler(Zend_Session_SaveHandler_Interface $interface)</code></a></span></dt>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.namespaceisset">49.4.12. <code class="code">namespaceIsset($namespace)</code></a></span></dt>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.namespaceunset">49.4.13. <code class="code">namespaceUnset($namespace)</code></a></span></dt>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.namespaceget">49.4.14. <code class="code">namespaceGet($namespace)</code></a></span></dt>
<dt><span class="sect2"><a href="zend.session.global_session_management.html#zend.session.global_session_management.getiterator">49.4.15. <code class="code">getIterator()</code></a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.session.savehandler.dbtable.html">49.5. Zend_Session_SaveHandler_DbTable</a></span></dt>
</dl>
</div>
<div class="sect1" lang="zh-cn">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.session.introduction"></a>49.1. 简介</h2></div></div></div>
<p>
        Zend Framework Auth 团队也非常期望大家在邮件列表中进行反馈和贡献：
        <a href="mailto:fw-auth@lists.zend.com" target="_top">fw-auth@lists.zend.com</a>
    </p>
<p>
        在基于 PHP 开发的 Web 应用程序中，<span class="bold"><strong>会话(session)</strong></span>
        代表服务器端和特定的用户代理客户端(比如 web 浏览器)之间的一对一的持久的状态数据。
        <code class="code">Zend_Session</code> 用来在由相同客户端发起的多个页面请求之间，管理和保护会话数据
        。逻辑上来说，会话数据是 cookie 数据的扩展。
        和 cookie 数据不同，会话数据不储存在客户端，仅当服务器端程序源代码使得会话数据可用，
        才通过回应来自客户端的请求与客户端共享会话数据。在该组件及其文档中，术语“session data”代表服务器端存储在
        <a href="http://www.php.net/manual/en/reserved.variables.php#reserved.variables.session" target="_top"><code class="code">$_SESSION</code></a>
        中的数据。该数据使用 <code class="code">Zend_Session</code> 来管理，由 <code class="code">Zend_Session_Namespace</code>
        采用对象的方式来控制。
        <span class="bold"><strong>会话命名空间(Session Namespaces)</strong></span>
        提供了使用经典的<a href="http://en.wikipedia.org/wiki/Namespace_%28computer_science%29" target="_top">命名空间</a>
        方式来访问会话数据，命名空间逻辑上就是一系列被命名（键名为字符串）的联合数组（类似于普通的 PHP 数组）。
    </p>
<p>
        <code class="code">Zend_Session_Namespace</code> 的实例用对象存储的方式实现了 <code class="code">$_SESSION</code> 的命名空间。
        <code class="code">Zend_Session</code> 组件包装了PHP内置的会话模块，提供了一个管理会话的接口，也为
        <code class="code">Zend_Session_Namespace</code> 持久化命名空间数据提供了API。
        <code class="code">Zend_Session_Namespace</code> 为会话命名空间数据到PHP内部会话机制的持久化提供了一个标准的、面向对象的接口。
        <code class="code">Zend_Session</code> 支持现有无名的会话，同时也支持“登录会话”。Zend Framework 的用户验证组件
        <code class="code">Zend_Auth</code>，使用了
        <code class="code">Zend_Session_Namespace</code>，把用户的鉴别信息储存到了"Zend_Auth"命名空间下。
        因为 <code class="code">Zend_Session</code> 使用了PHP内置的会话函数，常用的配置选项和设置都仍然适用(请参考
        <a href="http://www.php.net/session" target="_top">http://www.php.net/session</a>)。
        如此，储存在cookie或者URL中的会话标识，保持了客户端与服务器端会话状态数据之间的联系。
    </p>
<p>
        PHP 默认的
        <a href="http://www.php.net/manual/en/function.session-set-save-handler.php" target="_top">session_save_handler 函数</a>
        没有解决当客户端连接到了集群服务器中的一些服务器的情况下，保持客户端与服务器端会话状态数据之间联系的问题，
        因为会话状态数据只能储存在本地服务器当中（译注：也就是在各服务器间不能共享session数据）。
        当一组附加的且合理的save handlers可用时，我们会提供它。我们鼓励社区成员在我们的邮件列表
        <a href="mailto:fw-auth@lists.zend.com" target="_top">fw-auth@lists.zend.com</a> 中发表你的建议或者提交save handlers。
        与Zend_Db兼容的save handler已经发表在邮件列表中。
    </p>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.service.yahoo.html">上一页</a> </td>
<td width="20%" align="center"> </td>
<td width="40%" align="right"> <a accesskey="n" href="zend.session.basic_usage.html">下一页</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">48.29. Zend_Service_Yahoo </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td>
<td width="40%" align="right" valign="top"> 49.2. 基本用法</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
