<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>E.4. Internationalization (i18n) and Localization (l10n)</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="Zend Framework手册 中文版">
<link rel="up" href="performance.html" title="附录 E. Zend Framework Performance Guide">
<link rel="prev" href="performance.database.html" title="E.3. Zend_Db Performance">
<link rel="next" href="performance.view.html" title="E.5. View Rendering">
<link rel="chapter" href="introduction.html" title="第 1 章 Zend Framework简介">
<link rel="chapter" href="zend.acl.html" title="第 2 章 Zend_Acl">
<link rel="chapter" href="zend.amf.html" title="第 3 章 Zend_Amf">
<link rel="chapter" href="zend.application.html" title="第 4 章 Zend_Application">
<link rel="chapter" href="zend.auth.html" title="第 5 章 Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="第 6 章 Zend_Cache">
<link rel="chapter" href="zend.captcha.html" title="第 7 章 Zend_Captcha">
<link rel="chapter" href="zend.codegenerator.html" title="第 8 章 Zend_CodeGenerator">
<link rel="chapter" href="zend.config.html" title="第 9 章 Zend_Config">
<link rel="chapter" href="zend.config.writer.html" title="第 10 章 Zend_Config_Writer">
<link rel="chapter" href="zend.console.getopt.html" title="第 11 章 Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="第 12 章 Zend_Controller">
<link rel="chapter" href="zend.currency.html" title="第 13 章 Zend_Currency">
<link rel="chapter" href="zend.date.html" title="第 14 章 Zend_Date">
<link rel="chapter" href="zend.db.html" title="第 15 章 Zend_Db">
<link rel="chapter" href="zend.debug.html" title="第 16 章 Zend_Debug">
<link rel="chapter" href="zend.dojo.html" title="第 17 章 Zend_Dojo">
<link rel="chapter" href="zend.dom.html" title="第 18 章 Zend_Dom">
<link rel="chapter" href="zend.exception.html" title="第 19 章 Zend_Exception">
<link rel="chapter" href="zend.feed.html" title="第 20 章 Zend_Feed">
<link rel="chapter" href="zend.file.html" title="第 21 章 Zend_File">
<link rel="chapter" href="zend.filter.html" title="第 22 章 Zend_Filter">
<link rel="chapter" href="zend.form.html" title="第 23 章 Zend_Form">
<link rel="chapter" href="zend.gdata.html" title="第 24 章 Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="第 25 章 Zend_Http">
<link rel="chapter" href="zend.infocard.html" title="第 26 章 Zend_InfoCard">
<link rel="chapter" href="zend.json.html" title="第 27 章 Zend_Json">
<link rel="chapter" href="zend.layout.html" title="第 28 章 Zend_Layout">
<link rel="chapter" href="zend.ldap.html" title="第 29 章 Zend_Ldap">
<link rel="chapter" href="zend.loader.html" title="第 30 章 Zend_Loader">
<link rel="chapter" href="zend.locale.html" title="第 31 章 Zend_Locale">
<link rel="chapter" href="zend.log.html" title="第 32 章 Zend_Log">
<link rel="chapter" href="zend.mail.html" title="第 33 章 Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="第 34 章 Zend_Measure">
<link rel="chapter" href="zend.memory.html" title="第 35 章 Zend_Memory">
<link rel="chapter" href="zend.mime.html" title="第 36 章 Zend_Mime">
<link rel="chapter" href="zend.navigation.html" title="第 37 章 Zend_Navigation">
<link rel="chapter" href="zend.openid.html" title="第 38 章 Zend_OpenId">
<link rel="chapter" href="zend.paginator.html" title="第 39 章 Zend_Paginator">
<link rel="chapter" href="zend.pdf.html" title="第 40 章 Zend_Pdf">
<link rel="chapter" href="zend.progressbar.html" title="第 41 章 Zend_ProgressBar">
<link rel="chapter" href="zend.queue.html" title="第 42 章 Zend_Queue">
<link rel="chapter" href="zend.reflection.html" title="第 43 章 Zend_Reflection">
<link rel="chapter" href="zend.registry.html" title="第 44 章 Zend_Registry">
<link rel="chapter" href="zend.rest.html" title="第 45 章 Zend_Rest">
<link rel="chapter" href="zend.search.lucene.html" title="第 46 章 Zend_Search_Lucene">
<link rel="chapter" href="zend.server.html" title="第 47 章 Zend_Server">
<link rel="chapter" href="zend.service.html" title="第 48 章 Zend_Service">
<link rel="chapter" href="zend.session.html" title="第 49 章 Zend_Session">
<link rel="chapter" href="zend.soap.html" title="第 50 章 Zend_Soap">
<link rel="chapter" href="zend.tag.html" title="第 51 章 Zend_Tag">
<link rel="chapter" href="zend.test.html" title="第 52 章 Zend_Test">
<link rel="chapter" href="zend.text.html" title="第 53 章 Zend_Text">
<link rel="chapter" href="zend.timesync.html" title="第 54 章 Zend_TimeSync">
<link rel="chapter" href="zend.tool.framework.html" title="第 55 章 Zend_Tool_Framework">
<link rel="chapter" href="zend.tool.project.html" title="第 56 章 Zend_Tool_Project">
<link rel="chapter" href="zend.translate.html" title="第 57 章 Zend_Translate">
<link rel="chapter" href="zend.uri.html" title="第 58 章 Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="第 59 章 Zend_Validate">
<link rel="chapter" href="zend.version.html" title="第 60 章 Zend_Version">
<link rel="chapter" href="zend.view.html" title="第 61 章 Zend_View">
<link rel="chapter" href="zend.wildfire.html" title="第 62 章 Zend_Wildfire">
<link rel="chapter" href="zend.xmlrpc.html" title="第 63 章 Zend_XmlRpc">
<link rel="chapter" href="zendx.console.process.unix.html" title="第 64 章 ZendX_Console_Process_Unix">
<link rel="chapter" href="zendx.jquery.html" title="第 65 章 ZendX_JQuery">
<link rel="appendix" href="requirements.html" title="附录 A. 系统需求">
<link rel="appendix" href="coding-standard.html" title="附录 B. Zend Framework 的 PHP 编码标准">
<link rel="appendix" href="doc-standard.html" title="附录 C. Zend Framework Documentation Standard">
<link rel="appendix" href="project-structure.html" title="附录 D. Recommended Project Structure for Zend Framework MVC Applications">
<link rel="appendix" href="performance.html" title="附录 E. Zend Framework Performance Guide">
<link rel="appendix" href="copyrights.html" title="附录 F. 版权信息">
<link rel="index" href="the.index.html" title="索引">
<link rel="subsection" href="performance.localization.html#performance.localization.translationadapter" title="E.4.1. Which translation adapter should I use?">
<link rel="subsection" href="performance.localization.html#performance.localization.cache" title="E.4.2. How can I make translation and localization even faster?">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">E.4. Internationalization (i18n) and Localization (l10n)</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="performance.database.html">上一页</a> </td>
<th width="60%" align="center">附录 E. Zend Framework Performance Guide</th>
<td width="20%" align="right"> <a accesskey="n" href="performance.view.html">下一页</a>
</td>
</tr>
</table></div>
<div class="sect1" lang="zh-cn">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="performance.localization"></a>E.4. Internationalization (i18n) and Localization (l10n)</h2></div></div></div>
<p>
        Internationalizing and localizing a site are fantastic ways to expand
        your audience and ensure that all visitors can get to the information
        they need. However, it often comes with a performance penalty. Below
        are some strategies you can employ to reduce the overhead of i18n and
        l10n.
    </p>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="performance.localization.translationadapter"></a>E.4.1. Which translation adapter should I use?</h3></div></div></div>
<p>
            Not all translation adapters are made equal. Some have more
            features than others, and some perform better than others.
            Additionally, you may have business requirements that force you to
            use a particular adapter. However, if you have a choice, which
            adapters are fastest?
        </p>
<div class="sect3" lang="zh-cn">
<div class="titlepage"><div><div><h4 class="title">
<a name="performance.localization.translationadapter.fastest"></a>E.4.1.1. Use non-XML translation adapters for greatest speed</h4></div></div></div>
<p>
                Zend Framework ships with a variety of translation adapters.
                Fully half of them utilize an <acronym class="acronym">XML</acronym> format, incurring memory and
                performance overhead. Fortunately, there are several adapters
                that utilize other formats that can be parsed much more
                quickly. In order of speed, from fastest to slowest, they are:
            </p>
<div class="itemizedlist"><ul type="disc">
<li><p>
                    <span class="emphasis"><em>Array</em></span>: this is the fastest, as it is,
                    by definition, parsed into a native <acronym class="acronym">PHP</acronym> format immediately
                    on inclusion.
                </p></li>
<li><p>
                    <span class="emphasis"><em><acronym class="acronym">CSV</acronym></em></span>: uses
                    <code class="methodname">fgetcsv()</code> to parse a <acronym class="acronym">CSV</acronym> file and
                    transform it into a native <acronym class="acronym">PHP</acronym> format.
                </p></li>
<li><p>
                    <span class="emphasis"><em><acronym class="acronym">INI</acronym></em></span>: uses
                    <code class="methodname">parse_ini_file()</code> to parse an <acronym class="acronym">INI</acronym>
                    file and transform it into a native <acronym class="acronym">PHP</acronym> format. This and the
                    <acronym class="acronym">CSV</acronym> adapter are roughly equivalent performance-wise.
                </p></li>
<li><p>
                    <span class="emphasis"><em>Gettext</em></span>: The gettext adapter from Zend Framework
                    does <span class="emphasis"><em>not</em></span> use the gettext
                    extension as it is not thread safe and does not allow
                    specifying more than one locale per server. As a result, it
                    is slower than using the gettext extension directly, but,
                    because the gettext format is binary, it's faster to parse
                    than <acronym class="acronym">XML</acronym>.
                </p></li>
</ul></div>
<p>
                If high performance is one of your concerns, we suggest
                utilizing one of the above adapters.
            </p>
</div>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="performance.localization.cache"></a>E.4.2. How can I make translation and localization even faster?</h3></div></div></div>
<p>
            Maybe, for business reasons, you're limited to an <acronym class="acronym">XML</acronym>-based
            translation adapter. Or perhaps you'd like to speed things up even
            more. Or perhaps you want to make l10n operations faster. How can
            you do this?
        </p>
<div class="sect3" lang="zh-cn">
<div class="titlepage"><div><div><h4 class="title">
<a name="performance.localization.cache.usage"></a>E.4.2.1. Use translation and localization caches</h4></div></div></div>
<p>
                Both <code class="classname">Zend_Translate</code> and <code class="classname">Zend_Locale</code>
                implement caching functionality that can greatly affect
                performance. In the case of each, the major bottleneck is
                typically reading the files, not the actual lookups; using a
                cache eliminates the need to read the translation and/or
                localization files.
            </p>
<p>
                You can read about caching of translation and localization
                strings in the following locations:
            </p>
<div class="itemizedlist"><ul type="disc">
<li><p>
                        <a href="zend.translate.adapter.html#zend.translate.adapter.caching" title="57.2.3.  加速所有的适配器"><code class="classname">
                        Zend_Translate</code> adapter caching</a>
                    </p></li>
<li><p>
                        <a href="zend.locale.html#zend.locale.cache" title="31.1.10. Speed up Zend_Locale and its subclasses"><code class="classname">Zend_Locale</code>
                        caching</a>
                    </p></li>
</ul></div>
</div>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="performance.database.html">上一页</a> </td>
<td width="20%" align="center"><a accesskey="u" href="performance.html">上一级</a></td>
<td width="40%" align="right"> <a accesskey="n" href="performance.view.html">下一页</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">E.3. Zend_Db Performance </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td>
<td width="40%" align="right" valign="top"> E.5. View Rendering</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
